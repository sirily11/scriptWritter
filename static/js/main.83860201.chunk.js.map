{"version":3,"sources":["components/login/google_sign.png","components/models/HomeContext.tsx","components/login/LoginPage.tsx","components/home/CreateOrEditScriptDialog.tsx","components/home/HomePage.tsx","components/room/editor/SettingsText.tsx","components/room/editor/ContentDisplay.tsx","components/models/EditorContext.tsx","components/room/ScriptContent.tsx","components/room/dialogs/CreateOrAddSettingsDialog.tsx","components/room/dialogs/CreateOrAddDetailsDialog.tsx","components/room/LeftPart.tsx","components/room/editor/EditorPanel.tsx","components/room/RoomPage.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","HomeContext","React","createContext","HomeProvider","props","post","docsId","value","a","content","id","uuidv4","time","firebase","firestore","Timestamp","fromMillis","Date","now","user","username","auth","currentUser","displayName","userID","uid","collection","doc","update","FieldValue","arrayUnion","editPost","contentId","newValue","oldContents","contents","filter","c","docs","get","snapshot","currentUserId","data","admin","alert","deletePost","window","confirm","arrayRemove","createSettings","title","settings","push","type","details","createDetails","index","updateSettings","updateDetails","detailIndex","deleteSettings","splice","deleteDetails","createScript","description","scriptRoom","add","editScript","signOut","setState","location","href","login","email","password","signInWithEmailAndPassword","signUp","createUserWithEmailAndPassword","state","room","enablePersistence","onAuthStateChanged","userInfo","set","onSnapshot","forEach","d","Provider","this","children","Component","useStyles","makeStyles","theme","root","height","display","flexDirection","justifyContent","card","padding","marginLeft","marginRight","width","inputField","marginBottom","loginButton","float","googleButton","LoginPage","classes","currentIndex","setCurrentIndex","className","Container","Paper","Tabs","onChange","e","Tab","label","Collapse","in","mountOnEnter","unmountOnExit","useContext","setEmail","setPassword","Box","m","TextField","fullWidth","variant","target","Button","onClick","Grid","container","justify","item","ButtonBase","provider","GoogleAuthProvider","signInWithPopup","alt","src","googleLogo","LoginCard","SignUpCard","CreateOrEditScriptDialog","useState","setTitle","desc","setDesc","isLoading","setIsLoading","Dialog","open","LinearProgress","DialogTitle","DialogContent","style","marginTop","multiline","rows","DialogActions","onClose","useStyle","addIconContainer","addIcon","HomePage","openDialog","setOpenDialog","useEffect","AppBar","color","position","Toolbar","IconButton","spacing","xs","md","lg","Tooltip","Card","map","r","i","key","CardActionArea","Typography","noWrap","maxWidth","SettingsText","element","attributes","s","contentEditable","withSettings","editor","isInline","isVoid","BlockRender","DefaultElement","ContentDisplay","setValue","useMemo","withReact","createEditor","v","readOnly","renderElement","p","np","EditorContext","EditorProvider","setSelectedContent","clear","selectedContent","insertSettings","node","text","insertNode","selection","anchor","path","offset","focus","margin","list","overflowY","ScriptContent","List","raised","undefined","CardContent","CardActions","CreateOrAddSettingsDialog","required","CreateOrAddDetailsDialog","setContent","onDelete","flexGrow","drawer","flexShrink","iconContainer","centerIcon","LeftPart","showAddSettings","setShowSettings","showAddDetails","setShowAddDetails","selectedSettings","setSelectedSettings","selectedDetails","setSelectedDetails","ListItem","ListItemText","TreeView","defaultCollapseIcon","defaultExpandIcon","TreeItem","nodeId","fontSize","fontWeight","sd","endIcon","onIconClick","indexOf","mainEditor","borderBottom","chipContainer","maxHeight","divider","chip","EditorPanel","Chip","clickable","alignItems","direction","createStyles","backdrop","zIndex","appBar","bottomEditorPanel","RoomPage","match","params","setRoom","showEditDialog","setShowEditDialog","Drawer","to","Backdrop","CircularProgress","createMuiTheme","palette","primary","blue","secondary","grey","App","ThemeProvider","CssBaseline","exact","component","Boolean","hostname","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.83860201.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, { Component } from \"react\";\nimport firebase, { User } from \"firebase\";\nimport { Content, Room, ScriptUser, Settings } from \"./scriptWriterInterfaces\";\nimport { v4 as uuidv4 } from \"uuid\";\n\ninterface State {\n  user?: User | null;\n  room: Room[];\n\n  post(docsId: string, value: any): Promise<void>;\n\n  editScript(docsId: string, title: string, description: string): Promise<void>;\n\n  editPost(\n    docsId: string,\n    contentId: string,\n    newValue: any,\n    oldContents: Content[]\n  ): Promise<void>;\n\n  deletePost(docsId: string, value: Content): Promise<void>;\n\n  signOut(): Promise<void>;\n\n  login(email: string, password: string): Promise<void>;\n\n  signUp(email: string, password: string): Promise<void>;\n\n  createScript(title: string, description: string): Promise<void>;\n\n  createSettings(\n    title: string,\n    docsId: string,\n    settings: Settings[]\n  ): Promise<void>;\n\n  createDetails(\n    index: number,\n    docsId: string,\n    title: string,\n    content: string,\n    settings: Settings[]\n  ): Promise<void>;\n\n  updateSettings(\n    index: number,\n    docsId: string,\n    title: string,\n    settings: Settings[]\n  ): Promise<void>;\n\n  updateDetails(\n    index: number,\n    detailIndex: number,\n    docsId: string,\n    title: string,\n    content: string,\n    settings: Settings[]\n  ): Promise<void>;\n\n  deleteSettings(\n    index: number,\n    docsId: string,\n    settings: Settings[]\n  ): Promise<void>;\n\n  deleteDetails(\n    index: number,\n    detailIndex: number,\n    docsId: string,\n    settings: Settings[]\n  ): Promise<void>;\n}\n\ninterface Props {}\n\n//@ts-ignore\nconst context: State = {};\n\nexport const HomeContext = React.createContext(context);\n\nexport default class HomeProvider extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      signOut: this.signOut,\n      login: this.login,\n      signUp: this.signUp,\n      createScript: this.createScript,\n      createDetails: this.createDetails,\n      createSettings: this.createSettings,\n      updateDetails: this.updateDetails,\n      updateSettings: this.updateSettings,\n      deleteDetails: this.deleteDetails,\n      deleteSettings: this.deleteSettings,\n      editScript: this.editScript,\n      editPost: this.editPost,\n      post: this.post,\n      deletePost: this.deletePost,\n      room: [],\n    };\n  }\n\n  async componentDidMount() {\n    await firebase.firestore().enablePersistence();\n    firebase.auth().onAuthStateChanged(async (user) => {\n      if (user) {\n        this.setState({ user: user });\n        let userInfo: ScriptUser = {\n          username: user.displayName ?? \"\",\n          userID: user.uid,\n        };\n        // Add user to firestore\n        await firebase\n          .firestore()\n          .collection(\"users\")\n          .doc(user.uid)\n          .set(userInfo);\n      } else {\n        this.setState({ user: null });\n        window.location.href = \"#\";\n      }\n    });\n\n    firebase\n      .firestore()\n      .collection(\"scripts\")\n      .onSnapshot((docs) => {\n        let data: Room[] = [];\n        docs.forEach((d) => {\n          data.push({ id: d.id, ...d.data() } as Room);\n        });\n        this.setState({ room: data });\n      });\n  }\n\n  post = async (docsId: string, value: any) => {\n    let content: Content = {\n      id: uuidv4(),\n      time: firebase.firestore.Timestamp.fromMillis(Date.now()),\n      content: value,\n      user: {\n        username: firebase.auth().currentUser?.displayName ?? \"\",\n        userID: firebase.auth().currentUser?.uid ?? \"\",\n      },\n    };\n    await firebase\n      .firestore()\n      .collection(\"scripts\")\n      .doc(docsId)\n      .update(\"content\", firebase.firestore.FieldValue.arrayUnion(content));\n  };\n\n  editPost = async (\n    docsId: string,\n    contentId: string,\n    newValue: any,\n    oldContents: Content[]\n  ) => {\n    let contents = oldContents.filter((c) => c.id === contentId);\n    if (contents) {\n      contents[0].content = newValue;\n    }\n    let docs = await firebase.firestore().collection(\"scripts\").doc(docsId);\n    let snapshot = await docs.get();\n    let currentUserId = firebase.auth().currentUser?.uid;\n    let data = snapshot.data() as Room;\n    if (\n      data.admin === currentUserId ||\n      contents[0].user.userID === currentUserId\n    ) {\n      docs.update(\"content\", oldContents);\n    } else {\n      alert(\"You cannot update this content\");\n    }\n  };\n\n  deletePost = async (docsId: string, value: Content) => {\n    let confirm = window.confirm(\"Do you want to delete this post?\");\n    if (confirm) {\n      let docs = await firebase.firestore().collection(\"scripts\").doc(docsId);\n      let snapshot = await docs.get();\n      let currentUserId = firebase.auth().currentUser?.uid;\n      let data = snapshot.data() as Room;\n      if (data.admin === currentUserId || value.user.userID === currentUserId) {\n        docs.update(\n          \"content\",\n          firebase.firestore.FieldValue.arrayRemove(value)\n        );\n      } else {\n        alert(\"You cannot delete this content\");\n      }\n    }\n  };\n\n  createSettings = async (\n    title: string,\n    docsId: string,\n    settings: Settings[]\n  ) => {\n    settings.push({ type: title, details: [], id: uuidv4() });\n    await firebase\n      .firestore()\n      .collection(\"scripts\")\n      .doc(docsId)\n      .update(\"settings\", settings);\n  };\n  createDetails = async (\n    index: number,\n    docsId: string,\n    title: string,\n    content: string,\n    settings: Settings[]\n  ) => {\n    settings[index].details.push({\n      title: title,\n      content: content,\n      id: uuidv4(),\n    });\n    await firebase\n      .firestore()\n      .collection(\"scripts\")\n      .doc(docsId)\n      .update(\"settings\", settings);\n  };\n  updateSettings = async (\n    index: number,\n    docsId: string,\n    title: string,\n    settings: Settings[]\n  ) => {\n    settings[index].type = title;\n    await firebase\n      .firestore()\n      .collection(\"scripts\")\n      .doc(docsId)\n      .update(\"settings\", settings);\n  };\n  updateDetails = async (\n    index: number,\n    detailIndex: number,\n    docsId: string,\n    title: string,\n    content: string,\n    settings: Settings[]\n  ) => {\n    settings[index].details[detailIndex].title = title;\n    settings[index].details[detailIndex].content = content;\n\n    await firebase\n      .firestore()\n      .collection(\"scripts\")\n      .doc(docsId)\n      .update(\"settings\", settings);\n  };\n  deleteSettings = async (\n    index: number,\n    docsId: string,\n    settings: Settings[]\n  ) => {\n    let confirm = window.confirm(\"Do you want to delete?\");\n    if (confirm) {\n      settings.splice(index, 1);\n      await firebase\n        .firestore()\n        .collection(\"scripts\")\n        .doc(docsId)\n        .update(\"settings\", settings);\n    }\n  };\n  deleteDetails = async (\n    index: number,\n    detailIndex: number,\n    docsId: string,\n    settings: Settings[]\n  ) => {\n    let confirm = window.confirm(\"Do you want to delete?\");\n    if (confirm) {\n      settings[index].details.splice(detailIndex);\n      await firebase\n        .firestore()\n        .collection(\"scripts\")\n        .doc(docsId)\n        .update(\"settings\", settings);\n    }\n  };\n\n  createScript = async (title: string, description: string) => {\n    let scriptRoom: Room = {\n      admin: firebase.auth().currentUser?.uid ?? \"\",\n      title: title,\n      description: description,\n      settings: [],\n      content: [],\n    };\n    await firebase.firestore().collection(\"scripts\").add(scriptRoom);\n  };\n\n  editScript = async (docsId: string, title: string, description: string) => {\n    let docs = firebase.firestore().collection(\"scripts\").doc(docsId);\n    await docs.update({ title: title, description: description });\n  };\n\n  signOut = async () => {\n    await firebase.auth().signOut();\n    this.setState({ user: null });\n    window.location.href = \"#\";\n  };\n\n  login = async (email: string, password: string) => {\n    try {\n      await firebase.auth().signInWithEmailAndPassword(email, password);\n      window.location.href = \"#home\";\n    } catch (e) {\n      window.alert(e);\n    }\n  };\n\n  signUp = async (email: string, password: string) => {\n    try {\n      await firebase.auth().createUserWithEmailAndPassword(email, password);\n    } catch (e) {\n      window.alert(e);\n    }\n  };\n\n  render() {\n    return (\n      <HomeContext.Provider value={this.state}>\n        {this.props.children}\n      </HomeContext.Provider>\n    );\n  }\n}\n","// @flow\nimport * as React                                                                         from \"react\";\nimport {useContext}                                                                       from \"react\";\nimport {makeStyles}                                                                       from \"@material-ui/core/styles\";\nimport {Box, Button, ButtonBase, Collapse, Container, Grid, Paper, Tab, Tabs, TextField,} from \"@material-ui/core\";\nimport googleLogo                                                                         from \"./google_sign.png\";\nimport * as firebase                                                                      from \"firebase\";\nimport {HomeContext}                                                                      from \"../models/HomeContext\";\n\ntype Props = {};\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n    },\n    card: {\n        padding: \"20px\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        width: \"500px\",\n    },\n    inputField: {\n        marginBottom: 20,\n    },\n    loginButton: {\n        float: \"right\",\n    },\n    googleButton: {\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n    },\n}));\n\nfunction LoginCard()\n{\n    const classes = useStyles();\n    const {login} = useContext(HomeContext);\n    const [email, setEmail] = React.useState<string>();\n    const [password, setPassword] = React.useState<string>();\n\n    return (\n        <Box m={2}>\n            <TextField\n                className={classes.inputField}\n                fullWidth\n                label=\"Email Address\"\n                variant=\"filled\"\n                type={\"email\"}\n                onChange={(e) => setEmail(e.target.value)}\n            />\n            <TextField\n                className={classes.inputField}\n                fullWidth\n                label=\"Password\"\n                variant=\"filled\"\n                type=\"password\"\n                onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button\n                className={classes.loginButton}\n                onClick={async () =>\n                {\n                    if (email && password)\n                    {\n                        await login(email, password);\n                    }\n                }}\n            >\n                Login\n            </Button>\n            <Grid container justify={\"center\"}>\n                <Grid item>\n                    <ButtonBase\n                        onClick={async () =>\n                        {\n                            let provider = new firebase.auth.GoogleAuthProvider();\n                            await firebase.auth().signInWithPopup(provider);\n                            window.location.href = \"#home\";\n                        }}\n                    >\n                        <img alt={\"Google Sign In\"} src={googleLogo} height={40}/>\n                    </ButtonBase>\n                </Grid>\n            </Grid>\n        </Box>\n    );\n}\n\nfunction SignUpCard()\n{\n    const classes = useStyles();\n    const {signUp} = useContext(HomeContext);\n    const [email, setEmail] = React.useState<string>();\n    const [password, setPassword] = React.useState<string>();\n    return (\n        <Box m={2}>\n            <TextField\n                className={classes.inputField}\n                fullWidth\n                label=\"Email Address\"\n                variant=\"filled\"\n                type={\"email\"}\n                onChange={(e) => setEmail(e.target.value)}\n            />\n            <TextField\n                className={classes.inputField}\n                fullWidth\n                label=\"Password\"\n                variant=\"filled\"\n                type=\"password\"\n                onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button\n                className={classes.loginButton}\n                onClick={async () =>\n                {\n                    if (email && password)\n                    {\n                        await signUp(email, password);\n                    }\n                }}\n            >\n                Sign Up\n            </Button>\n        </Box>\n    );\n}\n\nexport function LoginPage(props: Props)\n{\n    const classes = useStyles();\n    const [currentIndex, setCurrentIndex] = React.useState(0);\n    return (\n        <div className={classes.root}>\n            <Container>\n                <Paper className={classes.card}>\n                    <Tabs\n                        value={currentIndex}\n                        onChange={(e, newValue) => setCurrentIndex(newValue)}\n                    >\n                        <Tab label={\"Login\"}/>\n                        <Tab label={\"Sign Up\"}/>\n                    </Tabs>\n                    <Collapse in={currentIndex === 0} mountOnEnter unmountOnExit>\n                        {LoginCard()}\n                    </Collapse>\n                    <Collapse in={currentIndex === 1} mountOnEnter unmountOnExit>\n                        {SignUpCard()}\n                    </Collapse>\n                </Paper>\n            </Container>\n        </div>\n    );\n}\n","// @flow\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport {\n  Button,\n  Collapse,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  LinearProgress,\n  TextField,\n} from \"@material-ui/core\";\n\ntype Props = {\n  title?: string;\n  description?: string;\n  open: boolean;\n  onClose(title?: string, description?: string): Promise<void>;\n};\n\nexport function CreateOrEditScriptDialog(props: Props) {\n  const [title, setTitle] = useState(props.title);\n  const [desc, setDesc] = useState(props.description);\n  const [isLoading, setIsLoading] = useState(false);\n\n  return (\n    <Dialog open={props.open} fullWidth>\n      <Collapse in={isLoading}>\n        <LinearProgress />\n      </Collapse>\n      <DialogTitle>Script</DialogTitle>\n      <DialogContent>\n        <Grid>\n          <TextField\n            label=\"Title\"\n            fullWidth\n            value={title}\n            variant=\"filled\"\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        </Grid>\n        <Grid>\n          <TextField\n            style={{ marginTop: 10 }}\n            label=\"Description\"\n            multiline\n            rows={10}\n            fullWidth\n            value={desc}\n            variant=\"filled\"\n            onChange={(e) => setDesc(e.target.value)}\n          />\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={async () => props.onClose()}>Close</Button>\n        <Button\n          onClick={async () => {\n            setIsLoading(true);\n            await props.onClose(title, desc);\n            setIsLoading(false);\n          }}\n        >\n          Create\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","// @flow\nimport * as React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Card,\n  CardActionArea,\n  Container,\n  Grid,\n  IconButton,\n  Toolbar,\n  Tooltip,\n  Typography,\n} from \"@material-ui/core\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport { HomeContext } from \"../models/HomeContext\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { CreateOrEditScriptDialog } from \"./CreateOrEditScriptDialog\";\n\ntype Props = {};\n\nconst useStyle = makeStyles({\n  container: {\n    marginTop: 30,\n  },\n  card: {\n    height: 250,\n    display: \"flex\",\n  },\n  addIconContainer: {\n    height: 50,\n    width: \"100%\",\n    display: \"flex\",\n    marginTop: \"auto\",\n    marginBottom: \"auto\",\n  },\n  addIcon: {\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n  },\n});\n\nexport function HomePage(props: Props) {\n  const { user, signOut, createScript, room } = React.useContext(HomeContext);\n  const [openDialog, setOpenDialog] = useState(false);\n  const classes = useStyle();\n\n  useEffect(() => {\n    if (user === null) {\n      window.location.href = \"#\";\n    }\n  }, [user]);\n\n  return (\n    <div>\n      <AppBar color=\"secondary\" position=\"static\">\n        <Toolbar>\n          <IconButton\n            onClick={async () => {\n              await signOut();\n            }}\n          >\n            <ExitToAppIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <Container className={classes.container}>\n        <Grid container spacing={5}>\n          <Grid item xs={6} md={3} lg={2}>\n            <Tooltip title={\"Add New Script\"}>\n              <Card className={classes.card}>\n                <div className={classes.addIconContainer}>\n                  <IconButton\n                    className={classes.addIcon}\n                    onClick={() => setOpenDialog(true)}\n                  >\n                    <AddIcon />\n                  </IconButton>\n                </div>\n              </Card>\n            </Tooltip>\n          </Grid>\n          {room.map((r, i) => (\n            <Grid key={`room-${i}`} item xs={6} md={3} lg={2}>\n              <Card className={classes.card}>\n                <CardActionArea\n                  onClick={() => {\n                    window.location.href = \"#room/\" + r.id;\n                  }}\n                >\n                  <div className={classes.addIconContainer}>\n                    <div className={classes.addIcon}>\n                      <Typography variant=\"h5\">{r.title}</Typography>\n                      <Typography noWrap style={{ maxWidth: 150 }}>\n                        {r.description}\n                      </Typography>\n                    </div>\n                  </div>\n                </CardActionArea>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n      </Container>\n      <CreateOrEditScriptDialog\n        open={openDialog}\n        onClose={async (title, description) => {\n          if (title && description) {\n            await createScript(title, description);\n          }\n          setOpenDialog(false);\n        }}\n      />\n    </div>\n  );\n}\n","// @flow\nimport * as React from \"react\";\nimport { Node } from \"slate\";\nimport { Room, SettingsDetail } from \"../../models/scriptWriterInterfaces\";\nimport { Tooltip } from \"@material-ui/core\";\n\ntype Props = { element: Node; attributes: any; children: any; room: Room };\n\nexport function SettingsText(props: Props) {\n  const { element, attributes, children } = props;\n  const data = (element.data as any).id as string;\n  let settings: SettingsDetail | undefined;\n  props.room.settings.forEach((s) => {\n    s.details.forEach((d) => {\n      if (d.id === data) {\n        settings = d;\n      }\n    });\n  });\n\n  return (\n    <Tooltip title={`Content: ${settings?.content ?? \"Deleted\"}`}>\n      <span\n        {...attributes}\n        contentEditable={false}\n        style={{\n          display: \"inline-block\",\n          color: \"yellow\",\n          marginLeft: 3,\n          marginRight: 3,\n        }}\n      >\n        {settings?.title ?? \"Deleted\"}\n        {children}\n      </span>\n    </Tooltip>\n  );\n}\n","// @flow\nimport * as React from \"react\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { createEditor } from \"slate\";\nimport { Editable, ReactEditor, Slate, withReact } from \"slate-react\";\nimport { SettingsText } from \"./SettingsText\";\nimport { Room } from \"../../models/scriptWriterInterfaces\";\n\ntype Props = { value: any; room: Room };\n\nexport const withSettings = (editor: ReactEditor) => {\n  const { isInline, isVoid } = editor;\n\n  editor.isInline = (element) => {\n    return element.type === \"settings\" ? true : isInline(element);\n  };\n\n  editor.isVoid = (element) => {\n    return element.type === \"settings\" ? true : isVoid(element);\n  };\n\n  return editor;\n};\n\nexport function BlockRender(props: any) {\n  // @ts-ignore\n  const DefaultElement = (props) => {\n    return <p {...props.attributes}>{props.children}</p>;\n  };\n  switch (props.element.type) {\n    case \"settings\":\n      return <SettingsText {...props} />;\n    default:\n      return <DefaultElement {...props} />;\n  }\n}\n\nexport function ContentDisplay(props: Props) {\n  const [value, setValue] = useState(props.value);\n  const { room } = props;\n  const editor = useMemo(() => withSettings(withReact(createEditor())), []);\n\n  useEffect(() => {\n    setValue(props.value);\n  }, [room]);\n\n  return (\n    <Slate\n      editor={editor}\n      value={value}\n      onChange={(v) => {\n        setValue(v);\n      }}\n    >\n      <Editable\n        readOnly={true}\n        renderElement={(p) => {\n          let np = { ...p, room: room };\n          return <BlockRender {...np} />;\n        }}\n      />\n    </Slate>\n  );\n}\n","import React, { Component } from \"react\";\nimport { Editor, Node } from \"slate\";\nimport { Content, SettingsDetail } from \"./scriptWriterInterfaces\";\n\ninterface State {\n  value: Node[];\n  selectedContent?: Content;\n\n  onChange(value: Node[]): void;\n\n  insertSettings(settings: SettingsDetail, editor: Editor): void;\n\n  setSelectedContent(content?: Content, editor?: Editor): void;\n\n  clear(editor?: Editor): void;\n}\n\ninterface Props {}\n\n//@ts-ignore\nconst context: State = {};\n\nexport const EditorContext = React.createContext(context);\n\nexport default class EditorProvider extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      value: [\n        {\n          type: \"paragraph\",\n          children: [{ text: \"\" }],\n        },\n      ],\n      onChange: this.onChange,\n      insertSettings: this.insertSettings,\n      setSelectedContent: this.setSelectedContent,\n      clear: this.clear,\n    };\n  }\n\n  onChange = (value: Node[]) => {\n    this.setState({ value });\n  };\n\n  setSelectedContent = (content?: Content, editor?: Editor) => {\n    if (content) {\n      let value = content.content;\n      this.setState({ value: value as any });\n    } else {\n      this.clear(editor);\n    }\n    this.setState({ selectedContent: content });\n  };\n\n  insertSettings = (settings: SettingsDetail, editor: Editor) => {\n    const node: Node = {\n      type: \"settings\",\n      children: [{ text: \"\" }],\n      data: { id: settings.id },\n    };\n    editor.insertNode(node);\n    // value.push(node);\n    // this.setState({ value });\n  };\n\n  clear = (editor?: Editor) => {\n    if (editor) {\n      editor.selection = {\n        anchor: { path: [0, 0], offset: 0 },\n        focus: { path: [0, 0], offset: 0 },\n      };\n    }\n    this.setState({\n      value: [{ type: \"paragraph\", children: [{ text: \" \" }] }],\n    });\n  };\n\n  render() {\n    return (\n      <EditorContext.Provider value={this.state}>\n        {this.props.children}\n      </EditorContext.Provider>\n    );\n  }\n}\n","// @flow\nimport * as React from \"react\";\nimport { useContext } from \"react\";\nimport { Room } from \"../models/scriptWriterInterfaces\";\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  IconButton,\n  List,\n  Typography,\n} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { ContentDisplay } from \"./editor/ContentDisplay\";\nimport { HomeContext } from \"../models/HomeContext\";\nimport { EditorContext } from \"../models/EditorContext\";\n\nconst useStyles = makeStyles({\n  card: {\n    margin: 10,\n  },\n  list: {\n    overflowY: \"scroll\",\n  },\n});\n\ntype Props = {\n  room: Room;\n};\n\nexport function ScriptContent(props: Props) {\n  const { deletePost } = useContext(HomeContext);\n  const { selectedContent, setSelectedContent } = useContext(EditorContext);\n\n  const classes = useStyles();\n  return (\n    <List className={classes.list}>\n      {props.room.content.map((c, i) => (\n        <Card\n          className={classes.card}\n          key={`content-${i}`}\n          raised={selectedContent !== undefined}\n        >\n          <CardContent>\n            <ContentDisplay value={c.content} room={props.room} />\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              Author: {c.user.username}\n            </Typography>\n          </CardContent>\n          <CardActions>\n            <IconButton\n              onClick={async () => {\n                if (props.room) {\n                  await deletePost(props.room.id ?? \"\", c);\n                }\n              }}\n            >\n              <DeleteIcon />\n            </IconButton>\n            <IconButton\n              onClick={async () => {\n                if (props.room) {\n                  await setSelectedContent(c);\n                }\n              }}\n            >\n              <EditIcon />\n            </IconButton>\n          </CardActions>\n        </Card>\n      ))}\n    </List>\n  );\n}\n","// @flow\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport {\n  Button,\n  Collapse,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  LinearProgress,\n  TextField,\n} from \"@material-ui/core\";\n\ntype Props = {\n  open: boolean;\n  title?: string;\n  onClose(title?: string): Promise<void>;\n};\n\nexport function CreateOrAddSettingsDialog(props: Props) {\n  const [title, setTitle] = useState(props.title ?? \"\");\n  const [isLoading, setIsLoading] = useState(false);\n  return (\n    <Dialog open={props.open} fullWidth>\n      <Collapse in={isLoading}>\n        <LinearProgress />\n      </Collapse>\n      <DialogTitle>Settings</DialogTitle>\n      <DialogContent>\n        <TextField\n          fullWidth\n          label=\"Settings Type\"\n          variant=\"filled\"\n          required\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => props.onClose()}>Cancel</Button>\n        <Button\n          onClick={async () => {\n            setIsLoading(true);\n            await props.onClose(title);\n            // setIsLoading(false);\n          }}\n        >\n          Ok\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","// @flow\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport {\n  Button,\n  Collapse,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  LinearProgress,\n  TextField,\n} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\ntype Props = {\n  open: boolean;\n  title?: string;\n  content?: string;\n  onClose(title?: string, content?: string): Promise<void>;\n  onDelete(): Promise<void>;\n};\n\nexport function CreateOrAddDetailsDialog(props: Props) {\n  const [title, setTitle] = useState(props.title ?? \"\");\n  const [content, setContent] = useState(props.content ?? \"\");\n  const [isLoading, setIsLoading] = useState(false);\n  return (\n    <Dialog open={props.open} fullWidth>\n      <Collapse in={isLoading}>\n        <LinearProgress />\n      </Collapse>\n      <DialogTitle>\n        Settings\n        {props.title && (\n          <IconButton\n            onClick={async () => {\n              setIsLoading(true);\n              await props.onDelete();\n              setIsLoading(false);\n            }}\n          >\n            <DeleteIcon />\n          </IconButton>\n        )}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          fullWidth\n          label=\"Title\"\n          variant=\"filled\"\n          required\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <TextField\n          style={{ marginTop: 10 }}\n          fullWidth\n          label=\"Content\"\n          variant=\"filled\"\n          multiline={true}\n          rows={3}\n          required\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => props.onClose()}>Cancel</Button>\n        <Button\n          onClick={async () => {\n            setIsLoading(true);\n            await props.onClose(title, content);\n            // setIsLoading(false);\n          }}\n        >\n          Ok\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import { Settings, SettingsDetail } from \"../models/scriptWriterInterfaces\";\nimport * as React from \"react\";\nimport { useContext, useState } from \"react\";\nimport { HomeContext } from \"../models/HomeContext\";\nimport {\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Tooltip,\n  Typography,\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { TreeItem, TreeView } from \"@material-ui/lab\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { CreateOrAddSettingsDialog } from \"./dialogs/CreateOrAddSettingsDialog\";\nimport { CreateOrAddDetailsDialog } from \"./dialogs/CreateOrAddDetailsDialog\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyle = makeStyles({\n  title: {\n    flexGrow: 1,\n  },\n  drawer: {\n    width: 300,\n    flexShrink: 0,\n  },\n  container: {\n    marginLeft: 300,\n    padding: 0,\n  },\n  iconContainer: {\n    display: \"flex\",\n    width: \"100%\",\n  },\n  centerIcon: {\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n  },\n});\n\nexport function LeftPart(props: { settings?: Settings[]; id?: string }) {\n  const classes = useStyle();\n  const {\n    createSettings,\n    deleteSettings,\n    updateSettings,\n    createDetails,\n    deleteDetails,\n    updateDetails,\n  } = useContext(HomeContext);\n  const [showAddSettings, setShowSettings] = useState(false);\n  const [showAddDetails, setShowAddDetails] = useState(false);\n  const [selectedSettings, setSelectedSettings] = useState<Settings>();\n  const [selectedDetails, setSelectedDetails] = useState<SettingsDetail>();\n\n  return (\n    <List className={classes.drawer}>\n      <ListItem>\n        <ListItemText>\n          <Typography variant=\"h5\">\n            Settings\n            <Tooltip title={\"Add Settings\"}>\n              <IconButton onClick={() => setShowSettings(true)}>\n                <AddIcon />\n              </IconButton>\n            </Tooltip>\n          </Typography>\n        </ListItemText>\n      </ListItem>\n      <TreeView\n        defaultCollapseIcon={<ExpandMoreIcon />}\n        defaultExpandIcon={<ChevronRightIcon />}\n      >\n        {props.settings &&\n          props.settings.map((s, i) => (\n            <TreeItem\n              key={`settings-${i}`}\n              nodeId={`${i}`}\n              label={\n                <Typography style={{ fontSize: 18, fontWeight: \"bold\" }}>\n                  {s.type}\n                </Typography>\n              }\n            >\n              {s.details.map((sd, i) => (\n                <TreeItem\n                  nodeId={`sd-${s.type}-${i}`}\n                  key={`sd-${s.type}-${i}`}\n                  endIcon={<EditIcon />}\n                  onIconClick={() => {\n                    setSelectedSettings(s);\n                    setSelectedDetails(sd);\n                    setShowAddDetails(true);\n                  }}\n                  label={\n                    <div>\n                      <Typography variant=\"h6\">{sd.title}</Typography>\n                      <Typography variant=\"caption\">{sd.content}</Typography>\n                    </div>\n                  }\n                />\n              ))}\n\n              <div className={classes.iconContainer}>\n                <Tooltip title={\"Edit settings\"}>\n                  <IconButton\n                    className={classes.centerIcon}\n                    onClick={() => {\n                      setSelectedSettings(s);\n                      setShowSettings(true);\n                    }}\n                  >\n                    <EditIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title={\"Delete settings\"}>\n                  <IconButton\n                    className={classes.centerIcon}\n                    onClick={async () => {\n                      if (props.id && props.settings) {\n                        await deleteSettings(i, props.id, props.settings);\n                      }\n                    }}\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title={\"Add details\"}>\n                  <IconButton\n                    className={classes.centerIcon}\n                    onClick={async () => {\n                      setShowAddDetails(true);\n                      setSelectedSettings(s);\n                    }}\n                  >\n                    <AddIcon />\n                  </IconButton>\n                </Tooltip>\n              </div>\n            </TreeItem>\n          ))}\n      </TreeView>\n      {showAddSettings && (\n        <CreateOrAddSettingsDialog\n          open={showAddSettings}\n          title={selectedSettings?.type}\n          onClose={async (title) => {\n            if (title && props.id && props.settings) {\n              if (selectedSettings) {\n                let index = props.settings.indexOf(selectedSettings);\n                await updateSettings(index, props.id, title, props.settings);\n              } else {\n                await createSettings(title, props.id, props.settings);\n              }\n            }\n            setShowSettings(false);\n            setSelectedSettings(undefined);\n            setSelectedDetails(undefined);\n          }}\n        />\n      )}\n      {showAddDetails && (\n        <CreateOrAddDetailsDialog\n          open={showAddDetails}\n          title={selectedDetails?.title}\n          content={selectedDetails?.content}\n          onDelete={async () => {\n            if (\n              selectedSettings &&\n              selectedDetails &&\n              props.id &&\n              props.settings\n            ) {\n              let index = props.settings.indexOf(selectedSettings);\n              let detailIndex = selectedSettings.details.indexOf(\n                selectedDetails\n              );\n              await deleteDetails(index, detailIndex, props.id, props.settings);\n            }\n\n            setShowAddDetails(false);\n            setSelectedSettings(undefined);\n            setSelectedDetails(undefined);\n          }}\n          onClose={async (title, content) => {\n            if (\n              title &&\n              content &&\n              props.id &&\n              props.settings &&\n              selectedSettings\n            ) {\n              let index = props.settings.indexOf(selectedSettings);\n              if (selectedDetails) {\n                let detailIndex = selectedSettings.details.indexOf(\n                  selectedDetails\n                );\n                await updateDetails(\n                  index,\n                  detailIndex,\n                  props.id,\n                  title,\n                  content,\n                  props.settings\n                );\n              } else {\n                await createDetails(\n                  index,\n                  props.id,\n                  title,\n                  content,\n                  props.settings\n                );\n              }\n            }\n            setShowAddDetails(false);\n            setSelectedSettings(undefined);\n            setSelectedDetails(undefined);\n          }}\n        />\n      )}\n    </List>\n  );\n}\n","// @flow\nimport * as React from \"react\";\nimport { useContext, useMemo, useState } from \"react\";\nimport {\n  Button,\n  Chip,\n  Collapse,\n  Grid,\n  LinearProgress,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport { Room } from \"../../models/scriptWriterInterfaces\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { EditorContext } from \"../../models/EditorContext\";\nimport { createEditor } from \"slate\";\nimport { Editable, Slate, withReact } from \"slate-react\";\nimport { HomeContext } from \"../../models/HomeContext\";\nimport { BlockRender, withSettings } from \"./ContentDisplay\";\n\ntype Props = { room: Room };\n\nconst useStyle = makeStyles({\n  editor: {\n    margin: 20,\n    padding: 20,\n  },\n  mainEditor: {\n    borderBottom: \"2px solid white\",\n    height: 150,\n    overflowY: \"scroll\",\n    width: \"100%\",\n  },\n  chipContainer: {\n    maxHeight: 190,\n    overflowY: \"scroll\",\n  },\n  divider: {\n    marginBottom: 10,\n    marginTop: 10,\n    width: \"100%\",\n  },\n  chip: {\n    marginRight: 10,\n    marginBottom: 10,\n  },\n});\n\nexport function EditorPanel(props: Props) {\n  const classes = useStyle();\n  const { room } = props;\n  const [isLoading, setIsLoading] = useState(false);\n  const editor = useMemo(() => withSettings(withReact(createEditor())), []);\n  const {\n    value,\n    onChange,\n    insertSettings,\n    clear,\n    setSelectedContent,\n    selectedContent,\n  } = useContext(EditorContext);\n  const { post, editPost } = useContext(HomeContext);\n  // @ts-ignore\n  const DefaultElement = (props) => {\n    return <p {...props.attributes}>{props.children}</p>;\n  };\n\n  return (\n    <Paper className={classes.editor}>\n      <Collapse in={isLoading} mountOnEnter unmountOnExit>\n        <LinearProgress />\n      </Collapse>\n      <Grid container>\n        <Grid item xs={4} className={classes.chipContainer}>\n          {props.room.settings.map((s, i) => (\n            <div key={`sc-${i}`}>\n              <Typography>{s.type}</Typography>\n              {s.details.map((sd, i) => (\n                <Chip\n                  clickable\n                  onClick={() => {\n                    insertSettings(sd, editor);\n                  }}\n                  key={`sd-${i}`}\n                  className={classes.chip}\n                  label={sd.title}\n                />\n              ))}\n            </div>\n          ))}\n        </Grid>\n        <Grid item xs={8}>\n          <Slate\n            editor={editor}\n            value={value}\n            onChange={(v) => {\n              onChange(v);\n            }}\n          >\n            <Editable\n              className={classes.mainEditor}\n              renderElement={(p) => {\n                let np = { ...p, room: room };\n                return <BlockRender {...np} />;\n              }}\n            />\n          </Slate>\n          <Grid\n            container\n            alignItems=\"flex-start\"\n            justify=\"flex-end\"\n            direction=\"row\"\n            style={{ marginTop: 10 }}\n          >\n            <Collapse\n              in={selectedContent !== undefined}\n              mountOnEnter\n              unmountOnExit\n              style={{ marginRight: 10 }}\n            >\n              <Button\n                variant=\"contained\"\n                onClick={async () => {\n                  setSelectedContent(undefined);\n                }}\n              >\n                Cancel\n              </Button>\n            </Collapse>\n            <Button\n              variant=\"contained\"\n              onClick={async () => {\n                setIsLoading(true);\n                if (props.room.id) {\n                  if (selectedContent) {\n                    await editPost(\n                      props.room.id,\n                      selectedContent.id,\n                      value,\n                      props.room.content\n                    );\n                    setSelectedContent(undefined);\n                  } else {\n                    await post(props.room.id, value);\n                  }\n                }\n                await clear(editor);\n                setIsLoading(false);\n              }}\n            >\n              {selectedContent ? \"Update\" : \"Post\"}\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n}\n","// @flow\nimport * as React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { NavLink, RouteComponentProps } from \"react-router-dom\";\nimport {\n  AppBar,\n  Backdrop,\n  CircularProgress,\n  createStyles,\n  Drawer,\n  IconButton,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Room } from \"../models/scriptWriterInterfaces\";\nimport firebase from \"firebase\";\nimport { ScriptContent } from \"./ScriptContent\";\nimport { LeftPart } from \"./LeftPart\";\nimport { EditorPanel } from \"./editor/EditorPanel\";\nimport { CreateOrEditScriptDialog } from \"../home/CreateOrEditScriptDialog\";\nimport { HomeContext } from \"../models/HomeContext\";\n\ntype TParams = { id?: string };\ntype Props = {};\n\nconst useStyle = makeStyles((theme) =>\n  createStyles({\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: \"#fff\",\n    },\n    title: {\n      flexGrow: 1,\n    },\n    drawer: {\n      width: 300,\n      flexShrink: 0,\n    },\n    appBar: { width: `calc(100% - 300px)`, marginLeft: 300 },\n    container: {\n      marginTop: 50,\n      marginLeft: 300,\n      height: \"62vh\",\n      overflowY: \"scroll\",\n    },\n    iconContainer: {\n      display: \"flex\",\n      width: \"100%\",\n    },\n    centerIcon: {\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n    },\n    bottomEditorPanel: {\n      // position: \"fixed\",\n      // bottom: 10,\n      // right: 10,\n      // left: 300,\n      marginLeft: 300,\n    },\n  })\n);\n\nexport function RoomPage({ match }: RouteComponentProps<TParams>) {\n  let id = match.params.id;\n  const { editScript } = useContext(HomeContext);\n  const [room, setRoom] = useState<Room>();\n  const [showEditDialog, setShowEditDialog] = useState(false);\n  const classes = useStyle();\n  useEffect(() => {\n    firebase\n      .firestore()\n      .collection(\"scripts\")\n      .doc(id)\n      .onSnapshot((doc) => {\n        setRoom({ id: doc.id, ...(doc.data() as Room) });\n      });\n  }, [id]);\n\n  return (\n    <div style={{ overflowY: \"hidden\" }}>\n      <Drawer variant=\"permanent\">\n        <LeftPart settings={room?.settings} id={room?.id} />\n      </Drawer>\n      <AppBar className={classes.appBar} color=\"secondary\">\n        <Toolbar>\n          <NavLink to=\"/home\">\n            <IconButton>\n              <ArrowBackIosIcon />\n            </IconButton>\n          </NavLink>\n          <Typography variant=\"h6\" className={classes.title}>\n            {room?.title}\n          </Typography>\n          <IconButton\n            onClick={async () => {\n              setShowEditDialog(true);\n            }}\n          >\n            <EditIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <div className={classes.container}>\n        {room && <ScriptContent room={room} />}\n      </div>\n      {room && (\n        <div className={classes.bottomEditorPanel}>\n          <EditorPanel room={room} />{\" \"}\n        </div>\n      )}\n      {room && showEditDialog && (\n        <CreateOrEditScriptDialog\n          open={showEditDialog}\n          title={room?.title}\n          description={room?.description}\n          onClose={async (title, description) => {\n            if (title && description && room) {\n              await editScript(room.id ?? \"\", title, description);\n            }\n            setShowEditDialog(false);\n          }}\n        />\n      )}\n      <Backdrop className={classes.backdrop} open={room === undefined}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport \"./App.css\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { LoginPage } from \"./components/login/LoginPage\";\nimport { createMuiTheme, CssBaseline, ThemeProvider } from \"@material-ui/core\";\nimport { blue, grey } from \"@material-ui/core/colors\";\nimport HomeProvider from \"./components/models/HomeContext\";\nimport { HomePage } from \"./components/home/HomePage\";\nimport { RoomPage } from \"./components/room/RoomPage\";\nimport EditorProvider from \"./components/models/EditorContext\";\n\nconst theme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n    primary: blue,\n    secondary: grey,\n  },\n});\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <EditorProvider>\n        <HomeProvider>\n          <Router>\n            <Switch>\n              <Route path=\"/\" exact>\n                <LoginPage />\n              </Route>\n              <Route path=\"/home\" exact>\n                <HomePage />\n              </Route>\n              <Route path=\"/room/:id\" exact component={RoomPage} />\n            </Switch>\n          </Router>\n        </HomeProvider>\n      </EditorProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React              from \"react\";\nimport ReactDOM           from \"react-dom\";\nimport \"./index.css\";\nimport App                from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport firebase           from \"firebase\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBhZ-voT3a03bH-BuzwoQ1poCzWnL25f0Y\",\n  authDomain: \"script-writer-b115a.firebaseapp.com\",\n  databaseURL: \"https://script-writer-b115a.firebaseio.com\",\n  projectId: \"script-writer-b115a\",\n  storageBucket: \"script-writer-b115a.appspot.com\",\n  messagingSenderId: \"638753058731\",\n  appId: \"1:638753058731:web:aa4f0bb0c6c10c5c36ecee\",\n  measurementId: \"G-SQ0TC9BM4Y\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}