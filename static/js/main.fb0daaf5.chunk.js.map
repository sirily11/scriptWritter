{"version":3,"sources":["components/login/google_sign.png","components/models/HomeContext.tsx","components/login/LoginPage.tsx","components/home/CreateOrEditScriptDialog.tsx","components/home/PaginationButton.tsx","components/home/HomePage.tsx","components/models/EditorContext.tsx","components/room/editor/SettingsText.tsx","components/room/editor/plugins/withSettings.ts","components/room/editor/ContentDisplay.tsx","components/room/ScriptContent.tsx","components/room/dialogs/CreateOrAddSettingsDialog.tsx","components/room/dialogs/CreateOrAddDetailsDialog.tsx","components/room/LeftPart.tsx","components/room/editor/plugins/withShortCusts.ts","components/room/editor/EditorPanel.tsx","components/room/SnackBars.tsx","components/room/RoomContent.tsx","components/room/RoomPage.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","HomeContext","React","createContext","HomeProvider","props","next","a","state","startIndex","arrayOfStart","head","newIndex","setState","hasPrevious","refresh","previous","isLoading","docsRef","firebase","firestore","collection","orderBy","startAt","limit","numberPerPage","get","docs","data","index","hasNext","size","forEach","d","includes","console","log","push","id","room","slice","post","docsId","value","content","uuidv4","time","Timestamp","fromMillis","Date","now","user","username","auth","currentUser","displayName","userID","uid","doc","update","FieldValue","arrayUnion","editPost","contentId","newValue","oldContents","contents","filter","c","snapshot","currentUserId","admin","alert","deletePost","window","confirm","arrayRemove","createSettings","title","settings","type","details","createDetails","updateSettings","updateDetails","detailIndex","deleteSettings","splice","deleteDetails","createScript","description","scriptRoom","currentUsers","add","editScript","signOut","location","href","login","email","password","signInWithEmailAndPassword","signUp","createUserWithEmailAndPassword","undefined","refreshRoom","enablePersistence","onAuthStateChanged","userInfo","set","Provider","this","children","Component","useStyles","makeStyles","theme","root","height","display","flexDirection","justifyContent","card","padding","marginLeft","marginRight","width","inputField","marginBottom","loginButton","float","googleButton","LoginPage","classes","currentIndex","setCurrentIndex","className","Container","Paper","Tabs","onChange","e","Tab","label","Collapse","in","mountOnEnter","unmountOnExit","useContext","setEmail","setPassword","Box","m","TextField","fullWidth","variant","target","Button","onClick","Grid","container","justify","item","ButtonBase","provider","GoogleAuthProvider","signInWithPopup","alt","src","googleLogo","LoginCard","SignUpCard","CreateOrEditScriptDialog","useState","setTitle","desc","setDesc","setIsLoading","Dialog","open","LinearProgress","DialogTitle","DialogContent","style","marginTop","multiline","rows","DialogActions","onClose","PaginationButton","ButtonGroup","color","aria-label","disabled","useStyle","createStyles","addIconContainer","addIcon","backdrop","zIndex","drawer","paginationBtn","position","bottom","right","HomePage","openDialog","setOpenDialog","useEffect","AppBar","Toolbar","IconButton","spacing","xs","md","lg","Tooltip","Card","map","r","i","key","CardActionArea","Typography","noWrap","maxWidth","Backdrop","CircularProgress","asyncFunctionDebounced","AwesomeDebouncePromise","text","pureText","t","length","EditorContext","EditorProvider","onSendEnd","getUserInfo","foundUsers","currentTyping","setSelectedContent","editor","clear","selectedContent","insertSettings","node","insertNode","selection","anchor","path","offset","focus","SettingsText","element","attributes","s","contentEditable","cursor","withSettings","isInline","isVoid","DefaultElement","BlockRender","ContentDisplay","setValue","useMemo","withReact","createEditor","v","readOnly","renderElement","p","np","margin","list","overflowY","ScriptContent","List","raised","CardContent","CardActions","CreateOrAddSettingsDialog","required","CreateOrAddDetailsDialog","setContent","onDelete","flexGrow","flexShrink","iconContainer","centerIcon","LeftPart","showAddSettings","setShowSettings","showAddDetails","setShowAddDetails","selectedSettings","setSelectedSettings","selectedDetails","setSelectedDetails","ListItem","ListItemText","TreeView","defaultCollapseIcon","defaultExpandIcon","TreeItem","nodeId","fontSize","fontWeight","sd","endIcon","onIconClick","findIndex","SHORTCUTS","mainEditor","borderBottom","chipContainer","maxHeight","divider","chip","EditorPanel","withHistory","deleteBackward","insertText","Range","isCollapsed","block","Editor","above","match","n","isBlock","range","start","beforeText","string","Transforms","select","delete","setNodes","wrapNodes","Point","equals","unwrapNodes","split","withShortcuts","useCallback","Chip","clickable","alignItems","direction","SnackBars","typingUser","setTypingUser","users","Snackbar","anchorOrigin","vertical","horizontal","Boolean","message","appBar","breakpoints","down","bottomEditorPanel","clearText","RoomContent","showEditDialog","setShowEditDialog","openDrawer","setOpenDrawer","addEventListener","Hidden","xsDown","Drawer","smUp","to","AvatarGroup","max","Avatar","backgroundColor","charAt","init","cb","foundRoom","find","u","onSnapshot","RoomPage","params","singleRoom","setSingleRoom","room1","then","Fade","createMuiTheme","palette","primary","blue","secondary","grey","App","ThemeProvider","CssBaseline","exact","component","hostname","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.fb0daaf5.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, {Component}                    from \"react\";\nimport firebase, {User}                      from \"firebase\";\nimport {Content, Room, ScriptUser, Settings} from \"./scriptWriterInterfaces\";\nimport {v4 as uuidv4}                        from \"uuid\";\n\ninterface State\n{\n  user?: User | null;\n  room: Room[];\n  isLoading: boolean;\n  startIndex: number;\n  hasNext: boolean;\n  hasPrevious: boolean;\n  arrayOfStart: any[];\n\n  next(): Promise<void>;\n\n  previous(): Promise<void>;\n\n  refreshRoom(): Promise<void>;\n\n  post(docsId: string, value: any): Promise<void>;\n\n  editScript(docsId: string, title: string, description: string): Promise<void>;\n\n  editPost(\n      docsId: string,\n      contentId: string,\n      newValue: any,\n      oldContents: Content[]\n  ): Promise<void>;\n\n  deletePost(docsId: string, value: Content): Promise<void>;\n\n  signOut(): Promise<void>;\n\n  login(email: string, password: string): Promise<void>;\n\n  signUp(email: string, password: string): Promise<void>;\n\n  createScript(title: string, description: string): Promise<void>;\n\n  createSettings(\n    title: string,\n    docsId: string,\n    settings: Settings[]\n  ): Promise<void>;\n\n  createDetails(\n    index: number,\n    docsId: string,\n    title: string,\n    content: string,\n    settings: Settings[]\n  ): Promise<void>;\n\n  updateSettings(\n    index: number,\n    docsId: string,\n    title: string,\n    settings: Settings[]\n  ): Promise<void>;\n\n  updateDetails(\n    index: number,\n    detailIndex: number,\n    docsId: string,\n    title: string,\n    content: string,\n    settings: Settings[]\n  ): Promise<void>;\n\n  deleteSettings(\n    index: number,\n    docsId: string,\n    settings: Settings[]\n  ): Promise<void>;\n\n  deleteDetails(\n      index: number,\n      detailIndex: number,\n      docsId: string,\n      settings: Settings[]\n  ): Promise<void>;\n}\n\ninterface Props\n{\n}\n\n//@ts-ignore\nconst context: State = {};\n\nexport const HomeContext = React.createContext(context);\n\nconst numberPerPage = 10;\n\nexport default class HomeProvider extends Component<Props, State>\n{\n  constructor(props: Props)\n  {\n    super(props);\n    this.state = {\n      startIndex: 0,\n      arrayOfStart: [undefined],\n      hasNext: false,\n      hasPrevious: false,\n      signOut: this.signOut,\n      isLoading: false,\n      login: this.login,\n      signUp: this.signUp,\n      next: this.next,\n      previous: this.previous,\n      createScript: this.createScript,\n      createDetails: this.createDetails,\n      createSettings: this.createSettings,\n      updateDetails: this.updateDetails,\n      updateSettings: this.updateSettings,\n      deleteDetails: this.deleteDetails,\n      deleteSettings: this.deleteSettings,\n      editScript: this.editScript,\n      editPost: this.editPost,\n      post: this.post,\n      deletePost: this.deletePost,\n      refreshRoom: this.refresh,\n      room: [],\n    };\n  }\n\n  async componentDidMount() {\n    await firebase.firestore().enablePersistence();\n    firebase.auth().onAuthStateChanged(async (user) =>\n    {\n      if (user)\n      {\n        this.setState({user: user});\n        let userInfo: ScriptUser = {\n          username: user.displayName ?? \"\",\n          userID: user.uid,\n        };\n        // Add user to firestore\n        await firebase\n            .firestore()\n            .collection(\"users\")\n            .doc(user.uid)\n            .set(userInfo);\n        await this.refresh();\n      } else\n      {\n        this.setState({user: null});\n        window.location.href = \"#\";\n      }\n    });\n  }\n\n  next = async () =>\n  {\n    const {startIndex, arrayOfStart} = this.state;\n    let newIndex = startIndex + 1;\n    let head = arrayOfStart[newIndex];\n    this.setState({\n      startIndex: newIndex,\n      hasPrevious: true,\n    });\n    await this.refresh(head);\n  };\n\n  previous = async () =>\n  {\n    const {startIndex, arrayOfStart} = this.state;\n\n    let newIndex = startIndex - 1;\n    let head = arrayOfStart[newIndex];\n    this.setState({startIndex: newIndex, hasPrevious: newIndex > 0});\n    await this.refresh(head);\n  };\n\n  refresh = async (head?: any) =>\n  {\n    const {arrayOfStart} = this.state;\n    this.setState({isLoading: true});\n    let docsRef = firebase\n        .firestore()\n        .collection(\"scripts\")\n        .orderBy(\"title\", \"asc\");\n    if (head)\n    {\n      docsRef = docsRef.startAt(head);\n    }\n    let docs = await docsRef.limit(numberPerPage + 1).get();\n\n    let data: Room[] = [];\n    let index = 0;\n    const hasNext = docs.size === numberPerPage + 1;\n    docs.forEach((d) =>\n    {\n      if (index === docs.size - 1 && hasNext)\n      {\n        // push last doc into start array\n        if (!arrayOfStart.includes(d))\n        {\n          console.log(\"Push doc\");\n          arrayOfStart.push(d);\n        }\n      }\n      data.push({id: d.id, ...d.data()} as Room);\n      index += 1;\n    });\n\n    this.setState({\n      room: data.slice(0, numberPerPage),\n      isLoading: false,\n      hasNext: hasNext,\n      arrayOfStart: arrayOfStart,\n    });\n  };\n\n  post = async (docsId: string, value: any) =>\n  {\n    let content: Content = {\n      id: uuidv4(),\n      time: firebase.firestore.Timestamp.fromMillis(Date.now()),\n      content: value,\n      user: {\n        username: firebase.auth().currentUser?.displayName ?? \"\",\n        userID: firebase.auth().currentUser?.uid ?? \"\",\n      },\n    };\n    await firebase\n      .firestore()\n      .collection(\"scripts\")\n      .doc(docsId)\n      .update(\"content\", firebase.firestore.FieldValue.arrayUnion(content));\n  };\n\n  editPost = async (\n    docsId: string,\n    contentId: string,\n    newValue: any,\n    oldContents: Content[]\n  ) => {\n    let contents = oldContents.filter((c) => c.id === contentId);\n    if (contents) {\n      contents[0].content = newValue;\n    }\n    let docs = await firebase.firestore().collection(\"scripts\").doc(docsId);\n    let snapshot = await docs.get();\n    let currentUserId = firebase.auth().currentUser?.uid;\n    let data = snapshot.data() as Room;\n    if (\n      data.admin === currentUserId ||\n      contents[0].user.userID === currentUserId\n    ) {\n      docs.update(\"content\", oldContents);\n    } else {\n      alert(\"You cannot update this content\");\n    }\n  };\n\n  deletePost = async (docsId: string, value: Content) => {\n    let confirm = window.confirm(\"Do you want to delete this post?\");\n    if (confirm) {\n      let docs = await firebase.firestore().collection(\"scripts\").doc(docsId);\n      let snapshot = await docs.get();\n      let currentUserId = firebase.auth().currentUser?.uid;\n      let data = snapshot.data() as Room;\n      if (data.admin === currentUserId || value.user.userID === currentUserId) {\n        docs.update(\n          \"content\",\n          firebase.firestore.FieldValue.arrayRemove(value)\n        );\n      } else {\n        alert(\"You cannot delete this content\");\n      }\n    }\n  };\n\n  createSettings = async (\n    title: string,\n    docsId: string,\n    settings: Settings[]\n  ) => {\n    settings.push({ type: title, details: [], id: uuidv4() });\n    await firebase\n      .firestore()\n      .collection(\"scripts\")\n      .doc(docsId)\n      .update(\"settings\", settings);\n  };\n  createDetails = async (\n    index: number,\n    docsId: string,\n    title: string,\n    content: string,\n    settings: Settings[]\n  ) => {\n    settings[index].details.push({\n      title: title,\n      content: content,\n      id: uuidv4(),\n    });\n    await firebase\n      .firestore()\n      .collection(\"scripts\")\n      .doc(docsId)\n      .update(\"settings\", settings);\n  };\n  updateSettings = async (\n    index: number,\n    docsId: string,\n    title: string,\n    settings: Settings[]\n  ) => {\n    settings[index].type = title;\n    await firebase\n      .firestore()\n      .collection(\"scripts\")\n      .doc(docsId)\n      .update(\"settings\", settings);\n  };\n  updateDetails = async (\n    index: number,\n    detailIndex: number,\n    docsId: string,\n    title: string,\n    content: string,\n    settings: Settings[]\n  ) => {\n    settings[index].details[detailIndex].title = title;\n    settings[index].details[detailIndex].content = content;\n\n    await firebase\n      .firestore()\n      .collection(\"scripts\")\n      .doc(docsId)\n      .update(\"settings\", settings);\n  };\n  deleteSettings = async (\n    index: number,\n    docsId: string,\n    settings: Settings[]\n  ) => {\n    let confirm = window.confirm(\"Do you want to delete this setting?\");\n    if (confirm) {\n      settings.splice(index, 1);\n      await firebase\n        .firestore()\n        .collection(\"scripts\")\n        .doc(docsId)\n        .update(\"settings\", settings);\n    }\n  };\n  deleteDetails = async (\n    index: number,\n    detailIndex: number,\n    docsId: string,\n    settings: Settings[]\n  ) => {\n    let confirm = window.confirm(\"Do you want to delete this detail?\");\n    if (confirm) {\n      settings[index].details.splice(detailIndex, 1);\n      await firebase\n        .firestore()\n        .collection(\"scripts\")\n        .doc(docsId)\n        .update(\"settings\", settings);\n    }\n  };\n\n  createScript = async (title: string, description: string) => {\n    let scriptRoom: Room = {\n      admin: firebase.auth().currentUser?.uid ?? \"\",\n      title: title,\n      description: description,\n      settings: [],\n      content: [],\n      currentUsers: [],\n    };\n    await firebase.firestore().collection(\"scripts\").add(scriptRoom);\n  };\n\n  editScript = async (docsId: string, title: string, description: string) => {\n    let docs = firebase.firestore().collection(\"scripts\").doc(docsId);\n    await docs.update({ title: title, description: description });\n  };\n\n  signOut = async () => {\n    await firebase.auth().signOut();\n    this.setState({ user: null });\n    window.location.href = \"#\";\n  };\n\n  login = async (email: string, password: string) => {\n    try {\n      await firebase.auth().signInWithEmailAndPassword(email, password);\n      window.location.href = \"#home\";\n    } catch (e) {\n      window.alert(e);\n    }\n  };\n\n  signUp = async (email: string, password: string) => {\n    try {\n      await firebase.auth().createUserWithEmailAndPassword(email, password);\n    } catch (e) {\n      window.alert(e);\n    }\n  };\n\n  render() {\n    return (\n      <HomeContext.Provider value={this.state}>\n        {this.props.children}\n      </HomeContext.Provider>\n    );\n  }\n}\n","// @flow\nimport * as React                                                                         from \"react\";\nimport {useContext}                                                                       from \"react\";\nimport {makeStyles}                                                                       from \"@material-ui/core/styles\";\nimport {Box, Button, ButtonBase, Collapse, Container, Grid, Paper, Tab, Tabs, TextField,} from \"@material-ui/core\";\nimport googleLogo                                                                         from \"./google_sign.png\";\nimport * as firebase                                                                      from \"firebase\";\nimport {HomeContext}                                                                      from \"../models/HomeContext\";\n\ntype Props = {};\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n    },\n    card: {\n        padding: \"20px\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        width: \"500px\",\n    },\n    inputField: {\n        marginBottom: 20,\n    },\n    loginButton: {\n        float: \"right\",\n    },\n    googleButton: {\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n    },\n}));\n\nfunction LoginCard()\n{\n    const classes = useStyles();\n    const {login} = useContext(HomeContext);\n    const [email, setEmail] = React.useState<string>();\n    const [password, setPassword] = React.useState<string>();\n\n    return (\n        <Box m={2}>\n            <TextField\n                className={classes.inputField}\n                fullWidth\n                label=\"Email Address\"\n                variant=\"filled\"\n                type={\"email\"}\n                onChange={(e) => setEmail(e.target.value)}\n            />\n            <TextField\n                className={classes.inputField}\n                fullWidth\n                label=\"Password\"\n                variant=\"filled\"\n                type=\"password\"\n                onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button\n                className={classes.loginButton}\n                onClick={async () =>\n                {\n                    if (email && password)\n                    {\n                        await login(email, password);\n                    }\n                }}\n            >\n                Login\n            </Button>\n            <Grid container justify={\"center\"}>\n                <Grid item>\n                    <ButtonBase\n                        onClick={async () =>\n                        {\n                            let provider = new firebase.auth.GoogleAuthProvider();\n                            await firebase.auth().signInWithPopup(provider);\n                            window.location.href = \"#home\";\n                        }}\n                    >\n                        <img alt={\"Google Sign In\"} src={googleLogo} height={40}/>\n                    </ButtonBase>\n                </Grid>\n            </Grid>\n        </Box>\n    );\n}\n\nfunction SignUpCard()\n{\n    const classes = useStyles();\n    const {signUp} = useContext(HomeContext);\n    const [email, setEmail] = React.useState<string>();\n    const [password, setPassword] = React.useState<string>();\n    return (\n        <Box m={2}>\n            <TextField\n                className={classes.inputField}\n                fullWidth\n                label=\"Email Address\"\n                variant=\"filled\"\n                type={\"email\"}\n                onChange={(e) => setEmail(e.target.value)}\n            />\n            <TextField\n                className={classes.inputField}\n                fullWidth\n                label=\"Password\"\n                variant=\"filled\"\n                type=\"password\"\n                onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button\n                className={classes.loginButton}\n                onClick={async () =>\n                {\n                    if (email && password)\n                    {\n                        await signUp(email, password);\n                    }\n                }}\n            >\n                Sign Up\n            </Button>\n        </Box>\n    );\n}\n\nexport function LoginPage(props: Props)\n{\n    const classes = useStyles();\n    const [currentIndex, setCurrentIndex] = React.useState(0);\n    return (\n        <div className={classes.root}>\n            <Container>\n                <Paper className={classes.card}>\n                    <Tabs\n                        value={currentIndex}\n                        onChange={(e, newValue) => setCurrentIndex(newValue)}\n                    >\n                        <Tab label={\"Login\"}/>\n                        <Tab label={\"Sign Up\"}/>\n                    </Tabs>\n                    <Collapse in={currentIndex === 0} mountOnEnter unmountOnExit>\n                        {LoginCard()}\n                    </Collapse>\n                    <Collapse in={currentIndex === 1} mountOnEnter unmountOnExit>\n                        {SignUpCard()}\n                    </Collapse>\n                </Paper>\n            </Container>\n        </div>\n    );\n}\n","// @flow\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport {\n  Button,\n  Collapse,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  LinearProgress,\n  TextField,\n} from \"@material-ui/core\";\n\ntype Props = {\n  title?: string;\n  description?: string;\n  open: boolean;\n  onClose(title?: string, description?: string): Promise<void>;\n};\n\nexport function CreateOrEditScriptDialog(props: Props) {\n  const [title, setTitle] = useState(props.title);\n  const [desc, setDesc] = useState(props.description);\n  const [isLoading, setIsLoading] = useState(false);\n\n  return (\n    <Dialog open={props.open} fullWidth>\n      <Collapse in={isLoading}>\n        <LinearProgress />\n      </Collapse>\n      <DialogTitle>Script</DialogTitle>\n      <DialogContent>\n        <Grid>\n          <TextField\n            label=\"Title\"\n            fullWidth\n            value={title}\n            variant=\"filled\"\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        </Grid>\n        <Grid>\n          <TextField\n            style={{ marginTop: 10 }}\n            label=\"Description\"\n            multiline\n            rows={10}\n            fullWidth\n            value={desc}\n            variant=\"filled\"\n            onChange={(e) => setDesc(e.target.value)}\n          />\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={async () => props.onClose()}>Close</Button>\n        <Button\n          onClick={async () => {\n            setIsLoading(true);\n            await props.onClose(title, desc);\n            setIsLoading(false);\n          }}\n        >\n          Create\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","// @flow\nimport * as React            from \"react\";\nimport {useContext}          from \"react\";\nimport {Button, ButtonGroup} from \"@material-ui/core\";\nimport {HomeContext}         from \"../models/HomeContext\";\n\ntype Props = {};\n\nexport function PaginationButton(props: Props)\n{\n  const {next, previous, hasNext, hasPrevious} = useContext(HomeContext);\n\n  return (\n      <ButtonGroup\n          variant=\"contained\"\n          color=\"primary\"\n          aria-label=\"outlined secondary button group\"\n      >\n        <Button disabled={!hasPrevious} onClick={() => previous()}>\n          Previous\n        </Button>\n        <Button disabled={!hasNext} onClick={() => next()}>\n          Next\n        </Button>\n      </ButtonGroup>\n  );\n}\n","// @flow\nimport * as React                 from \"react\";\nimport {useEffect, useState}      from \"react\";\nimport {\n    AppBar,\n    Backdrop,\n    Card,\n    CardActionArea,\n    CircularProgress,\n    Container,\n    createStyles,\n    Grid,\n    IconButton,\n    Toolbar,\n    Tooltip,\n    Typography,\n}                                 from \"@material-ui/core\";\nimport ExitToAppIcon              from \"@material-ui/icons/ExitToApp\";\nimport {HomeContext}              from \"../models/HomeContext\";\nimport AddIcon                    from \"@material-ui/icons/Add\";\nimport {makeStyles}               from \"@material-ui/core/styles\";\nimport {CreateOrEditScriptDialog} from \"./CreateOrEditScriptDialog\";\nimport {PaginationButton}         from \"./PaginationButton\";\n\ntype Props = {};\n\nconst useStyle = makeStyles((theme) =>\n    createStyles({\n        container: {\n            marginTop: 30,\n        },\n        card: {\n            height: 250,\n            display: \"flex\",\n        },\n        addIconContainer: {\n            height: 50,\n            width: \"100%\",\n            display: \"flex\",\n            marginTop: \"auto\",\n            marginBottom: \"auto\",\n        },\n        addIcon: {\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        backdrop: {\n            zIndex: theme.zIndex.drawer + 1,\n            color: \"#fff\",\n        },\n        paginationBtn: {\n            zIndex: theme.zIndex.drawer + 1,\n\n            position: \"fixed\",\n            bottom: 20,\n            right: 20,\n        },\n    })\n);\n\nexport function HomePage(props: Props)\n{\n    const {user, signOut, createScript, room, isLoading} = React.useContext(\n        HomeContext\n    );\n    const [openDialog, setOpenDialog] = useState(false);\n    const classes = useStyle();\n\n    useEffect(() =>\n    {\n        if (user === null)\n        {\n            window.location.href = \"#\";\n        }\n    }, [user]);\n\n    return (\n        <div>\n            <AppBar color=\"secondary\" position=\"static\">\n                <Toolbar>\n                    <IconButton\n                        onClick={async () =>\n                        {\n                            await signOut();\n                        }}\n                    >\n                        <ExitToAppIcon/>\n                    </IconButton>\n        </Toolbar>\n      </AppBar>\n      <Container className={classes.container}>\n        <Grid container spacing={5}>\n          <Grid item xs={6} md={3} lg={2}>\n            <Tooltip title={\"Add New Script\"}>\n              <Card className={classes.card}>\n                <div className={classes.addIconContainer}>\n                  <IconButton\n                    className={classes.addIcon}\n                    onClick={() => setOpenDialog(true)}\n                  >\n                    <AddIcon />\n                  </IconButton>\n                </div>\n              </Card>\n            </Tooltip>\n          </Grid>\n          {room.map((r, i) => (\n            <Grid key={`room-${i}`} item xs={6} md={3} lg={2}>\n              <Card className={classes.card}>\n                <CardActionArea\n                  onClick={() => {\n                    window.location.href = \"#room/\" + r.id;\n                  }}\n                >\n                  <div className={classes.addIconContainer}>\n                    <div className={classes.addIcon}>\n                      <Typography variant=\"h5\">{r.title}</Typography>\n                        <Typography noWrap style={{maxWidth: 150}}>\n                            {r.description}\n                        </Typography>\n                    </div>\n                  </div>\n                </CardActionArea>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n          <div className={classes.paginationBtn}>\n              <PaginationButton/>\n          </div>\n      </Container>\n            <Backdrop className={classes.backdrop} open={isLoading}>\n                <CircularProgress color=\"inherit\"/>\n            </Backdrop>\n            <CreateOrEditScriptDialog\n                open={openDialog}\n                onClose={async (title, description) =>\n                {\n                    if (title && description)\n                    {\n                        await createScript(title, description);\n                    }\n                    setOpenDialog(false);\n                }}\n            />\n        </div>\n  );\n}\n","import React, {Component}                    from \"react\";\nimport {Editor, Node}                        from \"slate\";\nimport AwesomeDebouncePromise                from \"awesome-debounce-promise\";\nimport {Content, ScriptUser, SettingsDetail} from \"./scriptWriterInterfaces\";\nimport firebase                              from \"firebase\";\n\ninterface State\n{\n  value: Node[];\n  selectedContent?: Content;\n\n  onChange(value: Node[], docsId: string, currentUsers: ScriptUser[]): void;\n\n  insertSettings(settings: SettingsDetail, editor: Editor): void;\n\n  setSelectedContent(content?: Content, editor?: Editor): void;\n\n  onSendEnd(docsId: string, currentUsers: ScriptUser[]): Promise<void>;\n\n  clear(editor?: Editor): void;\n}\n\ninterface Props\n{\n}\n\n//@ts-ignore\nconst context: State = {};\n\nconst asyncFunctionDebounced = AwesomeDebouncePromise(async (text: Node[]) =>\n{\n  let pureText = \"\";\n  text.forEach((t, i) =>\n  {\n    (t.children as []).forEach((c: { text: string; data?: any }) =>\n    {\n      pureText += c?.text ?? \"\";\n      pureText += c?.data?.text ?? \"\";\n    });\n    if (i < text.length - 1)\n    {\n      pureText += \"\\n\";\n    }\n  });\n  return pureText;\n}, 5000);\n\nexport const EditorContext = React.createContext(context);\n\nexport default class EditorProvider extends Component<Props, State>\n{\n  constructor(props: Props)\n  {\n    super(props);\n    this.state = {\n      value: [\n        {\n          type: \"paragraph\",\n          children: [{text: \"\"}],\n        },\n      ],\n      onChange: this.onChange,\n      onSendEnd: this.onSendEnd,\n      insertSettings: this.insertSettings,\n      setSelectedContent: this.setSelectedContent,\n      clear: this.clear,\n    };\n  }\n\n  onSendEnd = async (docsId: string, currentUsers: ScriptUser[]) =>\n  {\n    let user = this.getUserInfo();\n    let doc = firebase.firestore().collection(\"scripts\").doc(docsId);\n    let foundUsers = currentUsers.filter((c) => c.userID === user?.userID);\n    if (foundUsers.length > 0)\n    {\n      let foundUser = foundUsers[0];\n      //@ts-ignore\n      foundUser.currentTyping = null;\n      await doc.update({currentUsers: currentUsers});\n    }\n  };\n\n  onChange = async (\n      value: Node[],\n      docsId: string,\n      currentUsers: ScriptUser[]\n  ) =>\n  {\n    this.setState({value});\n    let text = await asyncFunctionDebounced(value);\n    if (text.length > 0)\n    {\n      let user = this.getUserInfo();\n      let doc = firebase.firestore().collection(\"scripts\").doc(docsId);\n      let foundUsers = currentUsers.filter((c) => c.userID === user?.userID);\n      if (foundUsers.length > 0)\n      {\n        let foundUser = foundUsers[0];\n        foundUser.currentTyping = text;\n        await doc.update({currentUsers: currentUsers});\n      }\n    } else\n    {\n      await this.onSendEnd(docsId, currentUsers);\n    }\n  };\n\n  getUserInfo = () =>\n  {\n    let currentUser = firebase.auth().currentUser;\n    if (currentUser)\n    {\n      let userInfo: ScriptUser = {\n        username: currentUser.displayName ?? \"annoymous\",\n        userID: currentUser.uid,\n      };\n      return userInfo;\n    }\n  };\n\n  setSelectedContent = (content?: Content, editor?: Editor) =>\n  {\n    if (content)\n    {\n      let value = content.content;\n      this.setState({value: value as any});\n    } else\n    {\n      this.clear(editor);\n    }\n    this.setState({selectedContent: content});\n  };\n\n  insertSettings = (settings: SettingsDetail, editor: Editor) =>\n  {\n    const node: Node = {\n      type: \"settings\",\n      children: [{text: settings.title}],\n      data: {id: settings.id, text: settings.title},\n    };\n    editor.insertNode(node);\n  };\n\n  clear = (editor?: Editor) => {\n    if (editor) {\n      editor.selection = {\n        anchor: { path: [0, 0], offset: 0 },\n        focus: { path: [0, 0], offset: 0 },\n      };\n    }\n    this.setState({\n      value: [{ type: \"paragraph\", children: [{ text: \" \" }] }],\n    });\n  };\n\n  render() {\n    return (\n      <EditorContext.Provider value={this.state}>\n        {this.props.children}\n      </EditorContext.Provider>\n    );\n  }\n}\n","// @flow\nimport * as React from \"react\";\nimport { Node } from \"slate\";\nimport { Room, SettingsDetail } from \"../../models/scriptWriterInterfaces\";\nimport { Tooltip } from \"@material-ui/core\";\n\ntype Props = { element: Node; attributes: any; children: any; room: Room };\n\nexport function SettingsText(props: Props) {\n  const { element, attributes, children } = props;\n  const data = (element.data as any).id as string;\n  let settings: SettingsDetail | undefined;\n  props.room.settings.forEach((s) => {\n    s.details.forEach((d) => {\n      if (d.id === data) {\n        settings = d;\n      }\n    });\n  });\n\n  return (\n    <Tooltip title={`Content: ${settings?.content ?? \"Deleted\"}`}>\n      <span\n        {...attributes}\n        contentEditable={false}\n        style={{\n          display: \"inline-block\",\n          color: \"yellow\",\n          marginLeft: 3,\n          marginRight: 3,\n          cursor: \"grab\",\n        }}\n      >\n        {settings?.title ?? \"Deleted\"}\n        {children}\n      </span>\n    </Tooltip>\n  );\n}\n","import {ReactEditor} from \"slate-react\";\n\nexport const withSettings = (editor: ReactEditor) =>\n{\n  const {isInline, isVoid} = editor;\n\n  editor.isInline = (element) =>\n  {\n    return element.type === \"settings\" ? true : isInline(element);\n  };\n\n  editor.isVoid = (element) =>\n  {\n    return element.type === \"settings\" ? true : isVoid(element);\n  };\n\n  return editor;\n};\n","// @flow\nimport * as React                     from \"react\";\nimport {useEffect, useMemo, useState} from \"react\";\nimport {createEditor}                 from \"slate\";\nimport {Editable, Slate, withReact}   from \"slate-react\";\nimport {SettingsText}                 from \"./SettingsText\";\nimport {Room}                         from \"../../models/scriptWriterInterfaces\";\nimport {withSettings}                 from \"./plugins/withSettings\";\n\ntype Props = { value: any; room: Room };\n\n// @ts-ignore\nconst DefaultElement = (props) =>\n{\n  return <p {...props.attributes}>{props.children}</p>;\n};\n\nexport function BlockRender(props: any)\n{\n  const {attributes, children, element} = props;\n  switch (element.type)\n  {\n    case \"settings\":\n      return <SettingsText {...props} />;\n    case \"block-quote\":\n      return <blockquote {...attributes}>{children}</blockquote>;\n    case \"bulleted-list\":\n      return <ul {...attributes}>{children}</ul>;\n    case \"heading-one\":\n      return <h1 {...attributes}>{children}</h1>;\n    case \"heading-two\":\n      return <h2 {...attributes}>{children}</h2>;\n    case \"heading-three\":\n      return <h3 {...attributes}>{children}</h3>;\n    case \"heading-four\":\n      return <h4 {...attributes}>{children}</h4>;\n    case \"heading-five\":\n      return <h5 {...attributes}>{children}</h5>;\n    case \"heading-six\":\n      return <h6 {...attributes}>{children}</h6>;\n    case \"list-item\":\n      return <li {...attributes}>{children}</li>;\n    default:\n      return <DefaultElement {...props} />;\n  }\n}\n\nexport function ContentDisplay(props: Props)\n{\n  const [value, setValue] = useState(props.value);\n  const {room} = props;\n  const editor = useMemo(() => withSettings(withReact(createEditor())), []);\n\n  useEffect(() =>\n  {\n    setValue(props.value);\n  }, [room]);\n\n  // useEffect(() => {\n\n  // }, []);\n\n  return (\n      <Slate\n          editor={editor}\n          value={value}\n          onChange={(v) =>\n          {\n            setValue(v);\n          }}\n      >\n        <Editable\n            readOnly={true}\n            renderElement={(p) =>\n            {\n              let np = {...p, room: room};\n              return <BlockRender {...np} />;\n            }}\n        />\n      </Slate>\n  );\n}\n","// @flow\nimport * as React from \"react\";\nimport { useContext } from \"react\";\nimport { Room } from \"../models/scriptWriterInterfaces\";\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  IconButton,\n  List,\n  Typography,\n} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { ContentDisplay } from \"./editor/ContentDisplay\";\nimport { HomeContext } from \"../models/HomeContext\";\nimport { EditorContext } from \"../models/EditorContext\";\n\nconst useStyles = makeStyles({\n  card: {\n    margin: 10,\n  },\n  list: {\n    overflowY: \"scroll\",\n  },\n});\n\ntype Props = {\n  room: Room;\n};\n\nexport function ScriptContent(props: Props) {\n  const { deletePost } = useContext(HomeContext);\n  const { selectedContent, setSelectedContent } = useContext(EditorContext);\n\n  const classes = useStyles();\n  return (\n    <List className={classes.list}>\n      {props.room.content.map((c, i) => (\n        <Card\n          className={classes.card}\n          key={`content-${i}`}\n          raised={selectedContent !== undefined}\n        >\n          <CardContent>\n            <ContentDisplay value={c.content} room={props.room} />\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              Author: {c.user.username}\n            </Typography>\n          </CardContent>\n          <CardActions>\n            <IconButton\n              onClick={async () => {\n                if (props.room) {\n                  await deletePost(props.room.id ?? \"\", c);\n                }\n              }}\n            >\n              <DeleteIcon />\n            </IconButton>\n            <IconButton\n              onClick={async () => {\n                if (props.room) {\n                  await setSelectedContent(c);\n                }\n              }}\n            >\n              <EditIcon />\n            </IconButton>\n          </CardActions>\n        </Card>\n      ))}\n    </List>\n  );\n}\n","// @flow\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport {\n  Button,\n  Collapse,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  LinearProgress,\n  TextField,\n} from \"@material-ui/core\";\n\ntype Props = {\n  open: boolean;\n  title?: string;\n  onClose(title?: string): Promise<void>;\n};\n\nexport function CreateOrAddSettingsDialog(props: Props) {\n  const [title, setTitle] = useState(props.title ?? \"\");\n  const [isLoading, setIsLoading] = useState(false);\n  return (\n    <Dialog open={props.open} fullWidth>\n      <Collapse in={isLoading}>\n        <LinearProgress />\n      </Collapse>\n      <DialogTitle>Settings</DialogTitle>\n      <DialogContent>\n        <TextField\n          fullWidth\n          label=\"Settings Type\"\n          variant=\"filled\"\n          required\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => props.onClose()}>Cancel</Button>\n        <Button\n          onClick={async () => {\n            setIsLoading(true);\n            await props.onClose(title);\n            // setIsLoading(false);\n          }}\n        >\n          Ok\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","// @flow\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport {\n  Button,\n  Collapse,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  LinearProgress,\n  TextField,\n} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\ntype Props = {\n  open: boolean;\n  title?: string;\n  content?: string;\n  onClose(title?: string, content?: string): Promise<void>;\n  onDelete(): Promise<void>;\n};\n\nexport function CreateOrAddDetailsDialog(props: Props) {\n  const [title, setTitle] = useState(props.title ?? \"\");\n  const [content, setContent] = useState(props.content ?? \"\");\n  const [isLoading, setIsLoading] = useState(false);\n  return (\n    <Dialog open={props.open} fullWidth>\n      <Collapse in={isLoading}>\n        <LinearProgress />\n      </Collapse>\n      <DialogTitle>\n        Settings\n        {props.title && (\n          <IconButton\n            onClick={async () => {\n              setIsLoading(true);\n              await props.onDelete();\n              setIsLoading(false);\n            }}\n          >\n            <DeleteIcon />\n          </IconButton>\n        )}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          fullWidth\n          label=\"Title\"\n          variant=\"filled\"\n          required\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <TextField\n          style={{ marginTop: 10 }}\n          fullWidth\n          label=\"Content\"\n          variant=\"filled\"\n          multiline={true}\n          rows={3}\n          required\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => props.onClose()}>Cancel</Button>\n        <Button\n          onClick={async () => {\n            setIsLoading(true);\n            await props.onClose(title, content);\n            // setIsLoading(false);\n          }}\n        >\n          Ok\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import {Settings, SettingsDetail}                                       from \"../models/scriptWriterInterfaces\";\nimport * as React                                                       from \"react\";\nimport {useContext, useState}                                           from \"react\";\nimport {HomeContext}                                                    from \"../models/HomeContext\";\nimport {IconButton, List, ListItem, ListItemText, Tooltip, Typography,} from \"@material-ui/core\";\nimport AddIcon                                                          from \"@material-ui/icons/Add\";\nimport {TreeItem, TreeView}                                             from \"@material-ui/lab\";\nimport ExpandMoreIcon                                                   from \"@material-ui/icons/ExpandMore\";\nimport ChevronRightIcon                                                 from \"@material-ui/icons/ChevronRight\";\nimport EditIcon                                                         from \"@material-ui/icons/Edit\";\nimport DeleteIcon                                                       from \"@material-ui/icons/Delete\";\nimport {CreateOrAddSettingsDialog}                                      from \"./dialogs/CreateOrAddSettingsDialog\";\nimport {CreateOrAddDetailsDialog}                                       from \"./dialogs/CreateOrAddDetailsDialog\";\nimport {makeStyles}                                                     from \"@material-ui/core/styles\";\n\nconst useStyle = makeStyles({\n  title: {\n    flexGrow: 1,\n  },\n  drawer: {\n    width: 300,\n    flexShrink: 0,\n  },\n  container: {\n    marginLeft: 300,\n    padding: 0,\n  },\n  iconContainer: {\n    display: \"flex\",\n    width: \"100%\",\n  },\n  centerIcon: {\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n  },\n});\n\nexport function LeftPart(props: { settings?: Settings[]; id?: string }) {\n  const classes = useStyle();\n  const {\n    createSettings,\n    deleteSettings,\n    updateSettings,\n    createDetails,\n    deleteDetails,\n    updateDetails,\n  } = useContext(HomeContext);\n  const [showAddSettings, setShowSettings] = useState(false);\n  const [showAddDetails, setShowAddDetails] = useState(false);\n  const [selectedSettings, setSelectedSettings] = useState<Settings>();\n  const [selectedDetails, setSelectedDetails] = useState<SettingsDetail>();\n\n  return (\n    <List className={classes.drawer}>\n      <ListItem>\n        <ListItemText>\n          <Typography variant=\"h5\">\n            Settings\n            <Tooltip title={\"Add Settings\"}>\n              <IconButton onClick={() => setShowSettings(true)}>\n                <AddIcon />\n              </IconButton>\n            </Tooltip>\n          </Typography>\n        </ListItemText>\n      </ListItem>\n      <TreeView\n        defaultCollapseIcon={<ExpandMoreIcon />}\n        defaultExpandIcon={<ChevronRightIcon />}\n      >\n        {props.settings &&\n          props.settings.map((s, i) => (\n            <TreeItem\n              key={`settings-${i}`}\n              nodeId={`${i}`}\n              label={\n                <Typography style={{ fontSize: 18, fontWeight: \"bold\" }}>\n                  {s.type}\n                </Typography>\n              }\n            >\n              {s.details.map((sd, i) => (\n                <TreeItem\n                  nodeId={`sd-${s.type}-${i}`}\n                  key={`sd-${s.type}-${i}`}\n                  endIcon={<EditIcon />}\n                  onIconClick={() => {\n                    setSelectedSettings(s);\n                    setSelectedDetails(sd);\n                    setShowAddDetails(true);\n                  }}\n                  label={\n                    <div>\n                      <Typography variant=\"h6\">{sd.title}</Typography>\n                      <Typography variant=\"caption\">{sd.content}</Typography>\n                    </div>\n                  }\n                />\n              ))}\n\n              <div className={classes.iconContainer}>\n                <Tooltip title={\"Edit settings\"}>\n                  <IconButton\n                    className={classes.centerIcon}\n                    onClick={() => {\n                      setSelectedSettings(s);\n                      setShowSettings(true);\n                    }}\n                  >\n                    <EditIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title={\"Delete settings\"}>\n                  <IconButton\n                    className={classes.centerIcon}\n                    onClick={async () => {\n                      if (props.id && props.settings) {\n                        await deleteSettings(i, props.id, props.settings);\n                      }\n                    }}\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title={\"Add details\"}>\n                  <IconButton\n                    className={classes.centerIcon}\n                    onClick={async () => {\n                      setShowAddDetails(true);\n                      setSelectedSettings(s);\n                    }}\n                  >\n                    <AddIcon />\n                  </IconButton>\n                </Tooltip>\n              </div>\n            </TreeItem>\n          ))}\n      </TreeView>\n      {showAddSettings && (\n        <CreateOrAddSettingsDialog\n          open={showAddSettings}\n          title={selectedSettings?.type}\n          onClose={async (title) => {\n            if (title && props.id && props.settings) {\n              if (selectedSettings)\n              {\n                let index = props.settings.findIndex(\n                    (s) => s.id === selectedSettings.id\n                );\n                if (index > -1)\n                {\n                  await updateSettings(index, props.id, title, props.settings);\n                }\n              } else\n              {\n                await createSettings(title, props.id, props.settings);\n              }\n            }\n            setShowSettings(false);\n            setSelectedSettings(undefined);\n            setSelectedDetails(undefined);\n          }}\n        />\n      )}\n      {showAddDetails && (\n        <CreateOrAddDetailsDialog\n          open={showAddDetails}\n          title={selectedDetails?.title}\n          content={selectedDetails?.content}\n          onDelete={async () => {\n            if (\n                selectedSettings &&\n                selectedDetails &&\n                props.id &&\n                props.settings\n            )\n            {\n              let index = props.settings.findIndex(\n                  (s) => s.id === selectedSettings.id\n              );\n              let detailIndex = selectedSettings.details.findIndex(\n                  (d) => d.id === selectedDetails.id\n              );\n              if (detailIndex > -1)\n              {\n                await deleteDetails(\n                    index,\n                    detailIndex,\n                    props.id,\n                    props.settings\n                );\n              }\n            }\n\n            setShowAddDetails(false);\n            setSelectedSettings(undefined);\n            setSelectedDetails(undefined);\n          }}\n          onClose={async (title, content) => {\n            if (\n                title &&\n                content &&\n                props.id &&\n                props.settings &&\n                selectedSettings\n            )\n            {\n              let index = props.settings.findIndex(\n                  (s) => s.id === selectedSettings.id\n              );\n              if (selectedDetails)\n              {\n                let detailIndex = selectedSettings.details.findIndex(\n                    (d) => d.id === selectedDetails.id\n                );\n                if (detailIndex > -1)\n                {\n                  await updateDetails(\n                      index,\n                      detailIndex,\n                      props.id,\n                      title,\n                      content,\n                      props.settings\n                  );\n                }\n              } else {\n                await createDetails(\n                  index,\n                  props.id,\n                  title,\n                  content,\n                  props.settings\n                );\n              }\n            }\n            setShowAddDetails(false);\n            setSelectedSettings(undefined);\n            setSelectedDetails(undefined);\n          }}\n        />\n      )}\n    </List>\n  );\n}\n","import {Editor, Point, Range, Transforms} from \"slate\";\nimport {ReactEditor}                      from \"slate-react\";\n\nconst SHORTCUTS = {\n  \"*\": \"list-item\",\n  \"-\": \"list-item\",\n  \"+\": \"list-item\",\n  \">\": \"block-quote\",\n  \"#\": \"heading-one\",\n  \"##\": \"heading-two\",\n  \"###\": \"heading-three\",\n  \"####\": \"heading-four\",\n  \"#####\": \"heading-five\",\n  \"######\": \"heading-six\",\n};\n\nexport const withShortcuts = (editor: ReactEditor) =>\n{\n  const {deleteBackward, insertText} = editor;\n\n  editor.insertText = (text) =>\n  {\n    const {selection} = editor;\n\n    if (text === \" \" && selection && Range.isCollapsed(selection))\n    {\n      const {anchor} = selection;\n      const block = Editor.above(editor, {\n        match: (n) => Editor.isBlock(editor, n),\n      });\n      const path = block ? block[1] : [];\n      const start = Editor.start(editor, path);\n      const range = {anchor, focus: start};\n      const beforeText = Editor.string(editor, range);\n      // @ts-ignore\n      const type: string = SHORTCUTS[beforeText];\n\n      if (type)\n      {\n        Transforms.select(editor, range);\n        Transforms.delete(editor);\n        Transforms.setNodes(\n            editor,\n            {type},\n            {match: (n) => Editor.isBlock(editor, n)}\n        );\n\n        if (type === \"list-item\")\n        {\n          const list = {type: \"bulleted-list\", children: []};\n          Transforms.wrapNodes(editor, list, {\n            match: (n) => n.type === \"list-item\",\n          });\n        }\n\n        return;\n      }\n    }\n\n    insertText(text);\n  };\n\n  editor.deleteBackward = (...args) =>\n  {\n    const {selection} = editor;\n\n    if (selection && Range.isCollapsed(selection))\n    {\n      const match = Editor.above(editor, {\n        match: (n) => Editor.isBlock(editor, n),\n      });\n\n      if (match)\n      {\n        const [block, path] = match;\n        const start = Editor.start(editor, path);\n\n        if (\n            block.type !== \"paragraph\" &&\n            Point.equals(selection.anchor, start)\n        )\n        {\n          Transforms.setNodes(editor, {type: \"paragraph\"});\n\n          if (block.type === \"list-item\")\n          {\n            Transforms.unwrapNodes(editor, {\n              match: (n) => n.type === \"bulleted-list\",\n              split: true,\n            });\n          }\n\n          return;\n        }\n      }\n\n      deleteBackward(...args);\n    }\n  };\n\n  return editor;\n};\n","// @flow\nimport * as React                                                                      from \"react\";\nimport {useCallback, useContext, useEffect, useMemo, useState}                         from \"react\";\nimport {Button, Chip, Collapse, Grid, LinearProgress, Paper, PopperProps, Typography,} from \"@material-ui/core\";\nimport {Room}                                                                          from \"../../models/scriptWriterInterfaces\";\nimport {makeStyles}                                                                    from \"@material-ui/core/styles\";\nimport {EditorContext}                                                                 from \"../../models/EditorContext\";\nimport {createEditor, Range}                                                           from \"slate\";\nimport {Editable, Slate, withReact}                                                    from \"slate-react\";\nimport {HomeContext}                                                                   from \"../../models/HomeContext\";\nimport {BlockRender}                                                                   from \"./ContentDisplay\";\nimport {withSettings}                                                                  from \"./plugins/withSettings\";\nimport {withShortcuts}                                                                 from \"./plugins/withShortCusts\";\nimport {withHistory}                                                                   from \"slate-history\";\n\ntype Props = { room: Room };\n\nconst useStyle = makeStyles({\n  editor: {\n    margin: 20,\n    padding: 20,\n  },\n  mainEditor: {\n    borderBottom: \"2px solid white\",\n    height: 150,\n    overflowY: \"scroll\",\n    width: \"100%\",\n  },\n  chipContainer: {\n    maxHeight: 190,\n    overflowY: \"scroll\",\n  },\n  divider: {\n    marginBottom: 10,\n    marginTop: 10,\n    width: \"100%\",\n  },\n  chip: {\n    marginRight: 10,\n    marginBottom: 10,\n  },\n});\n\nexport function EditorPanel(props: Props)\n{\n  const classes = useStyle();\n  const {room} = props;\n  // States\n  const [isLoading, setIsLoading] = useState(false);\n  const [target, setTarget] = useState<Range>();\n  const [anchorEl, setAnchorEl] = React.useState<PopperProps[\"anchorEl\"]>(null);\n  // end states\n  const editor = useMemo(\n      () => withHistory(withShortcuts(withSettings(withReact(createEditor())))),\n      []\n  );\n  // contexts\n  const {\n    value,\n    onChange,\n    insertSettings,\n    clear,\n    setSelectedContent,\n    selectedContent,\n    onSendEnd,\n  } = useContext(EditorContext);\n  const {post, editPost} = useContext(HomeContext);\n  // end context\n\n  // render custom element\n  const renderElement = useCallback(\n      (p) =>\n      {\n        let np = {...p, room: room};\n        return <BlockRender {...np} />;\n      },\n      [room]\n  );\n\n  useEffect(() =>\n  {\n    return () =>\n    {\n      clear();\n    };\n  }, []);\n\n  return (\n      <Paper className={classes.editor}>\n        <Collapse in={isLoading} mountOnEnter unmountOnExit>\n          <LinearProgress/>\n        </Collapse>\n        <Grid container>\n          <Grid item xs={4} className={classes.chipContainer}>\n            {props.room.settings.map((s, i) => (\n                <div key={`sc-${i}`}>\n                  <Typography>{s.type}</Typography>\n                  {s.details.map((sd, i) => (\n                      <Chip\n                          clickable\n                          onClick={() =>\n                          {\n                            insertSettings(sd, editor);\n                          }}\n                          key={`sd-${i}`}\n                          className={classes.chip}\n                          label={sd.title}\n                      />\n                  ))}\n                </div>\n            ))}\n          </Grid>\n          <Grid item xs={8}>\n            <Slate\n                editor={editor}\n                value={value}\n                onChange={(v) =>\n                {\n                  if (props.room.id)\n                    onChange(v, props.room.id, props.room.currentUsers);\n                }}\n            >\n              <Editable\n                  className={classes.mainEditor}\n                  renderElement={renderElement}\n              />\n            </Slate>\n            <Grid\n                container\n                alignItems=\"flex-start\"\n                justify=\"flex-end\"\n            direction=\"row\"\n            style={{ marginTop: 10 }}\n          >\n            <Collapse\n              in={selectedContent !== undefined}\n              mountOnEnter\n              unmountOnExit\n              style={{ marginRight: 10 }}\n            >\n              <Button\n                  variant=\"contained\"\n                  onClick={async () =>\n                  {\n                    setSelectedContent(undefined);\n                    if (props.room.id)\n                    {\n                      await onSendEnd(props.room.id, props.room.currentUsers);\n                    }\n                  }}\n              >\n                Cancel\n              </Button>\n            </Collapse>\n            <Button\n              variant=\"contained\"\n              onClick={async () => {\n                setIsLoading(true);\n                if (props.room.id) {\n                  if (selectedContent)\n                  {\n                    await editPost(\n                        props.room.id,\n                        selectedContent.id,\n                        value,\n                        props.room.content\n                    );\n                    setSelectedContent(undefined);\n                  } else\n                  {\n                    await post(props.room.id, value);\n                  }\n                }\n                await clear(editor);\n                if (props.room.id)\n                {\n                  await onSendEnd(props.room.id, props.room.currentUsers);\n                }\n                setIsLoading(false);\n              }}\n            >\n              {selectedContent ? \"Update\" : \"Post\"}\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n}\n","// @flow\nimport * as React            from \"react\";\nimport {useEffect, useState} from \"react\";\nimport {Room, ScriptUser}    from \"../models/scriptWriterInterfaces\";\nimport firebase              from \"firebase\";\nimport {Snackbar}            from \"@material-ui/core\";\n\ntype Props = {\n  room: Room;\n};\n\nexport function SnackBars(props: Props)\n{\n  const {currentUsers} = props.room;\n  const [typingUser, setTypingUser] = useState<ScriptUser>();\n\n  useEffect(() =>\n  {\n    const currentUser = firebase.auth().currentUser?.uid;\n    const users = currentUsers.filter(\n        (c) => c.currentTyping && c.userID !== currentUser\n    );\n    if (users.length > 0)\n    {\n      setTypingUser(users[0]);\n    } else\n    {\n      setTypingUser(undefined);\n    }\n  }, [currentUsers]);\n\n  return (\n      <Snackbar\n          anchorOrigin={{vertical: \"bottom\", horizontal: \"left\"}}\n          open={Boolean(typingUser)}\n          message={`${typingUser?.username}: ${typingUser?.currentTyping}`}\n      />\n  );\n}\n","// @flow\nimport * as React                        from \"react\";\nimport {useContext, useEffect, useState} from \"react\";\nimport {NavLink}                         from \"react-router-dom\";\nimport {\n    AppBar,\n    Avatar,\n    createStyles,\n    Drawer,\n    Hidden,\n    IconButton,\n    Toolbar,\n    Tooltip,\n    Typography,\n}                                        from \"@material-ui/core\";\nimport ArrowBackIosIcon                  from \"@material-ui/icons/ArrowBackIos\";\nimport MenuIcon                          from \"@material-ui/icons/Menu\";\nimport EditIcon                          from \"@material-ui/icons/Edit\";\nimport {makeStyles}                      from \"@material-ui/core/styles\";\nimport {Room}                            from \"../models/scriptWriterInterfaces\";\nimport firebase                          from \"firebase\";\nimport {ScriptContent}                   from \"./ScriptContent\";\nimport {LeftPart}                        from \"./LeftPart\";\nimport {EditorPanel}                     from \"./editor/EditorPanel\";\nimport {CreateOrEditScriptDialog}        from \"../home/CreateOrEditScriptDialog\";\nimport {HomeContext}                     from \"../models/HomeContext\";\nimport {SnackBars}                       from \"./SnackBars\";\nimport {AvatarGroup}                     from \"@material-ui/lab\";\n\ntype TParams = { id?: string };\ntype Props = {\n    room: Room;\n};\n\nconst useStyle = makeStyles((theme) =>\n    createStyles({\n        backdrop: {\n            zIndex: theme.zIndex.drawer + 1,\n            color: \"#fff\",\n        },\n        title: {\n            flexGrow: 1,\n        },\n        drawer: {\n            width: 300,\n            flexShrink: 0,\n        },\n        appBar: {\n            width: `calc(100% - 300px)`,\n            marginLeft: 300,\n            [theme.breakpoints.down(\"xs\")]: {\n                marginLeft: 0,\n                width: \"100%\",\n            },\n        },\n        container: {\n            marginTop: 50,\n            [theme.breakpoints.down(\"xs\")]: {\n                marginLeft: 0,\n            },\n            marginLeft: 300,\n            height: \"62vh\",\n            overflowY: \"scroll\",\n        },\n        iconContainer: {\n            display: \"flex\",\n            width: \"100%\",\n        },\n        centerIcon: {\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        },\n        bottomEditorPanel: {\n            [theme.breakpoints.down(\"xs\")]: {\n                marginLeft: 0,\n            },\n            marginLeft: 300,\n        },\n    })\n);\n\nconst clearText = async (room: Room) =>\n{\n    // remove user\n    let currentUser = firebase.auth().currentUser?.uid;\n    let doc = firebase.firestore().collection(\"scripts\").doc(room.id);\n\n    let index = room.currentUsers.findIndex((c) => c.userID === currentUser);\n    room.currentUsers.splice(index, 1);\n    await doc.update({\n        currentUsers: room.currentUsers,\n    });\n};\n\nexport function RoomContent(props: Props)\n{\n    const {editScript, user, refreshRoom} = useContext(HomeContext);\n    const {room} = props;\n    const [showEditDialog, setShowEditDialog] = useState(false);\n    const [openDrawer, setOpenDrawer] = useState(false);\n    const classes = useStyle();\n\n    useEffect(() =>\n    {\n        window.addEventListener(\"beforeunload\", (e) =>\n        {\n            clearText(room);\n        });\n    }, []);\n\n    return (\n        <div style={{overflowY: \"hidden\"}}>\n            <Hidden xsDown>\n                <Drawer variant=\"permanent\">\n                    <LeftPart settings={room?.settings} id={room?.id}/>\n                </Drawer>\n            </Hidden>\n            <Hidden smUp>\n                <Drawer open={openDrawer} onClose={() => setOpenDrawer(false)}>\n                    <NavLink to=\"/home\">\n                        <IconButton\n                            onClick={async () =>\n                            {\n                                await clearText(room);\n                                await refreshRoom();\n                            }}\n                        >\n                            <ArrowBackIosIcon/>\n                        </IconButton>\n                    </NavLink>\n                    <LeftPart settings={room?.settings} id={room?.id}/>\n                </Drawer>\n            </Hidden>\n\n            <AppBar className={classes.appBar} color=\"secondary\">\n                <Toolbar>\n                    <Hidden xsDown>\n                        <NavLink to=\"/home\">\n                            <IconButton\n                                onClick={async () =>\n                                {\n                                    await clearText(room);\n                                    await refreshRoom();\n                                }}\n                            >\n                                <ArrowBackIosIcon/>\n                            </IconButton>\n                        </NavLink>\n                    </Hidden>\n                    <Hidden smUp>\n                        <IconButton onClick={() => setOpenDrawer(true)}>\n                            <MenuIcon/>\n                        </IconButton>\n                    </Hidden>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        {room?.title}\n                    </Typography>\n\n                    <AvatarGroup max={4}>\n                        {room?.currentUsers?.map((c) => (\n                            <Tooltip title={c.username} key={`avatar-${c.userID}`}>\n                                <Avatar style={{backgroundColor: \"#c7f4ff\", cursor: \"grab\"}}>\n                                    {c.username.charAt(0)}\n                                </Avatar>\n                            </Tooltip>\n                        ))}\n                    </AvatarGroup>\n\n                    <IconButton\n                        onClick={async () =>\n                        {\n                            setShowEditDialog(true);\n                        }}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                </Toolbar>\n            </AppBar>\n            <div className={classes.container}>\n                {room && <ScriptContent room={room}/>}\n            </div>\n            {room && (\n                <div className={classes.bottomEditorPanel}>\n                    <EditorPanel room={room}/>{\" \"}\n                </div>\n            )}\n            {room && showEditDialog && (\n                <CreateOrEditScriptDialog\n                    open={showEditDialog}\n                    title={room?.title}\n                    description={room?.description}\n                    onClose={async (title, description) =>\n                    {\n                        if (title && description && room)\n                        {\n                            await editScript(room.id ?? \"\", title, description);\n                        }\n                        setShowEditDialog(false);\n                    }}\n                />\n            )}\n            {room && <SnackBars room={room}/>}\n        </div>\n    );\n}\n","// @flow\nimport * as React                                        from \"react\";\nimport {useContext, useEffect, useState}                 from \"react\";\nimport {RouteComponentProps}                             from \"react-router-dom\";\nimport {Backdrop, CircularProgress, createStyles, Fade,} from \"@material-ui/core\";\nimport {makeStyles}                                      from \"@material-ui/core/styles\";\nimport {Room, ScriptUser}                                from \"../models/scriptWriterInterfaces\";\nimport firebase                                          from \"firebase\";\nimport {HomeContext}                                     from \"../models/HomeContext\";\nimport {RoomContent}                                     from \"./RoomContent\";\n\ntype TParams = { id?: string };\ntype Props = {};\n\nconst useStyle = makeStyles((theme) =>\n    createStyles({\n      backdrop: {\n        zIndex: theme.zIndex.drawer + 1,\n        color: \"#fff\",\n      },\n    })\n);\n\ninterface Callback\n{\n  (room: Room): void;\n}\n\n// call this function when first open the page\nconst init = async (\n    room: Room[],\n    id: string | undefined,\n    doc: firebase.firestore.DocumentReference<firebase.firestore.DocumentData>,\n    cb: Callback\n) =>\n{\n  let user: ScriptUser = {\n    userID: firebase.auth().currentUser?.uid ?? \"\",\n    username: firebase.auth().currentUser?.displayName ?? \"\",\n  };\n  let foundRoom = room.find((r) => r.id === id);\n  if (foundRoom)\n  {\n    let foundUser = foundRoom.currentUsers.find(\n        (u) => u.userID === user.userID\n    );\n    if (!foundUser)\n    {\n      await doc.update({\n        currentUsers: firebase.firestore.FieldValue.arrayUnion(user),\n      });\n    }\n    doc.onSnapshot((d) =>\n    {\n      // @ts-ignore\n      let room: Room = {id: d.id, ...d.data()};\n      cb(room);\n    });\n  }\n};\n\nexport function RoomPage({match}: RouteComponentProps<TParams>)\n{\n  let id = match.params.id;\n  const {user, room} = useContext(HomeContext);\n  const [singleRoom, setSingleRoom] = useState<Room>();\n  const classes = useStyle();\n\n  useEffect(() =>\n  {\n    let doc = firebase.firestore().collection(\"scripts\").doc(id);\n    // add user to the room\n    if (user && room.length > 0)\n    {\n      init(room, id, doc, (room1) => setSingleRoom(room1)).then(() =>\n          console.log(\"Update current user\")\n      );\n    }\n  }, [user, room]);\n\n  return (\n      <div>\n        {singleRoom && (\n            <Fade in={true}>\n              <RoomContent room={singleRoom}/>\n            </Fade>\n        )}\n        <Backdrop className={classes.backdrop} open={singleRoom === undefined}>\n          <CircularProgress color=\"inherit\"/>\n        </Backdrop>\n      </div>\n  );\n}\n","import React                                        from \"react\";\n\nimport \"./App.css\";\nimport {HashRouter as Router, Route, Switch}        from \"react-router-dom\";\nimport {LoginPage}                                  from \"./components/login/LoginPage\";\nimport {createMuiTheme, CssBaseline, ThemeProvider} from \"@material-ui/core\";\nimport {blue, grey}                                 from \"@material-ui/core/colors\";\nimport HomeProvider                                 from \"./components/models/HomeContext\";\nimport {HomePage}                                   from \"./components/home/HomePage\";\nimport EditorProvider                               from \"./components/models/EditorContext\";\nimport {RoomPage}                                   from \"./components/room/RoomPage\";\n\nconst theme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n    primary: blue,\n    secondary: grey,\n  },\n});\n\nfunction App()\n{\n  return (\n      <ThemeProvider theme={theme}>\n        <CssBaseline/>\n        <EditorProvider>\n          <HomeProvider>\n            <Router>\n              <Switch>\n                <Route path=\"/\" exact>\n                  <LoginPage/>\n                </Route>\n              <Route path=\"/home\" exact>\n                <HomePage />\n              </Route>\n              <Route path=\"/room/:id\" exact component={RoomPage} />\n            </Switch>\n          </Router>\n        </HomeProvider>\n      </EditorProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React              from \"react\";\nimport ReactDOM           from \"react-dom\";\nimport \"./index.css\";\nimport App                from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport firebase           from \"firebase\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBhZ-voT3a03bH-BuzwoQ1poCzWnL25f0Y\",\n  authDomain: \"script-writer-b115a.firebaseapp.com\",\n  databaseURL: \"https://script-writer-b115a.firebaseio.com\",\n  projectId: \"script-writer-b115a\",\n  storageBucket: \"script-writer-b115a.appspot.com\",\n  messagingSenderId: \"638753058731\",\n  appId: \"1:638753058731:web:aa4f0bb0c6c10c5c36ecee\",\n  measurementId: \"G-SQ0TC9BM4Y\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}